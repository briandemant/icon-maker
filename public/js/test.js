!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){n(39),window.assert=n(11).assert,window._=n(38),mocha.setup("bdd"),mocha.checkLeaks(),n(37),n(36),mocha.run()},function(t){t.exports={includeStack:!1,showDiff:!0,truncateThreshold:40}},function(t){/*!
	 * Chai - flag utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e,n){var r=t.__flags||(t.__flags=Object.create(null));return 3!==arguments.length?r[e]:void(r[e]=n)}},function(t){"use strict";t.exports=function(t,e,n){e=e||0,n=n||1;var r=1!=n,o=0,i=0,s=(t+"ï£¿").split("").map(function(t){var e=t.charCodeAt(0);return i+=e,e});return s=s.map(function(t){return i+=100*Math.sin(i),t+Math.sin(i)}),function(){var t=Math.abs(1337*Math.sin(s[o]));return t=r?e+(t-(0|t))*(n+1):e+(t-(0|t))*n,s[o]=s[o]+3.1,o=s.length-1==o?0:o+1,r?0|t:t}}},function(t,e,n){function r(t,e,n){var r={showHidden:e,seen:[],stylize:function(t){return t}};return o(r,t,"undefined"==typeof n?2:n)}function o(t,n,r){if(n&&"function"==typeof n.inspect&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var d=n.inspect(r);return"string"!=typeof d&&(d=o(t,d,r)),d}var w=i(t,n);if(w)return w;if(b(n))return y(n);var x=m(n),j=t.showHidden?v(n):x;if(0===j.length||h(n)&&(1===j.length&&"stack"===j[0]||2===j.length&&"description"===j[0]&&"stack"===j[1])){if("function"==typeof n){var _=g(n),E=_?": "+_:"";return t.stylize("[Function"+E+"]","special")}if(f(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(p(n))return t.stylize(Date.prototype.toUTCString.call(n),"date");if(h(n))return s(n)}var k="",A=!1,T=["{","}"];if(l(n)&&(A=!0,T=["[","]"]),"function"==typeof n){var _=g(n),E=_?": "+_:"";k=" [Function"+E+"]"}if(f(n)&&(k=" "+RegExp.prototype.toString.call(n)),p(n)&&(k=" "+Date.prototype.toUTCString.call(n)),h(n))return s(n);if(0===j.length&&(!A||0==n.length))return T[0]+k+T[1];if(0>r)return f(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var C;return C=A?a(t,n,r,x,j):j.map(function(e){return u(t,n,r,x,e,A)}),t.seen.pop(),c(C,k,T)}function i(t,e){switch(typeof e){case"undefined":return t.stylize("undefined","undefined");case"string":var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string");case"number":return t.stylize(""+e,"number");case"boolean":return t.stylize(""+e,"boolean")}return null===e?t.stylize("null","null"):void 0}function s(t){return"["+Error.prototype.toString.call(t)+"]"}function a(t,e,n,r,o){for(var i=[],s=0,a=e.length;a>s;++s)i.push(Object.prototype.hasOwnProperty.call(e,String(s))?u(t,e,n,r,String(s),!0):"");return o.forEach(function(o){o.match(/^\d+$/)||i.push(u(t,e,n,r,o,!0))}),i}function u(t,e,n,r,i,s){var a,u;if(e.__lookupGetter__&&(e.__lookupGetter__(i)?u=e.__lookupSetter__(i)?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):e.__lookupSetter__(i)&&(u=t.stylize("[Setter]","special"))),r.indexOf(i)<0&&(a="["+i+"]"),u||(t.seen.indexOf(e[i])<0?(u=null===n?o(t,e[i],null):o(t,e[i],n-1),u.indexOf("\n")>-1&&(u=s?u.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+u.split("\n").map(function(t){return"   "+t}).join("\n"))):u=t.stylize("[Circular]","special")),"undefined"==typeof a){if(s&&i.match(/^\d+$/))return u;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+u}function c(t,e,n){var r=0,o=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.length+1},0);return o>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function l(t){return Array.isArray(t)||"object"==typeof t&&"[object Array]"===d(t)}function f(t){return"object"==typeof t&&"[object RegExp]"===d(t)}function p(t){return"object"==typeof t&&"[object Date]"===d(t)}function h(t){return"object"==typeof t&&"[object Error]"===d(t)}function d(t){return Object.prototype.toString.call(t)}var g=n(7),v=n(24),m=n(21);t.exports=r;var y=function(t){if("outerHTML"in t)return t.outerHTML;var e,n="http://www.w3.org/1999/xhtml",r=document.createElementNS(n,"_"),o=((window.HTMLElement||window.Element).prototype,new XMLSerializer);return document.xmlVersion?o.serializeToString(t):(r.appendChild(t.cloneNode(!1)),e=r.innerHTML.replace("><",">"+t.innerHTML+"<"),r.innerHTML="",e)},b=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName}},function(t,e,n){"use strict";function r(t){var e=360*t()|0,n=(100*t()|0)+0,r=(30*t()|0)+35;return"hsl( "+e+", "+n+"%, "+r+"%)"}function o(t,e){e=e||15;var n,r,o=Math.ceil(e/2),i=[];for(n=0;e>n;n++)for(r=0;o>r;r++){var s=t()>=.5;i[n*e+r]=s,i[n*e+e-r-1]=s}return i}function i(t,e,n){var r,o=document.createElement("canvas"),i=Math.sqrt(t.length);o.width=o.height=i*e;var s=o.getContext("2d");for(s.fillStyle=n,r=0;r<t.length;r++){var a=Math.floor(r/i),u=r%i;t[r]&&s.fillRect(u*e,a*e,e,e)}return o}var s=n(3);t.exports=function(t,e){var n=s(t);e=e||{};var a=e.scale||5,u=e.size||11,c=o(n,u),l=e.color||r(n);return i(c,a,l)},t.exports._exposed={makeColor:r,generateData:o,makeCanvas:i}},function(t){/*!
	 * Chai - getActual utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e){return e.length>4?e[4]:t._obj}},function(t){/*!
	 * Chai - getName utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t){if(t.name)return t.name;var e=/^\s?function ([^(]*)\(/.exec(t);return e&&e[1]?e[1]:""}},function(t,e,n){/*!
	 * Chai - flag utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependancies
	 */
var r=n(4),o=n(1);t.exports=function(t){var e=r(t),n=Object.prototype.toString.call(t);if(o.truncateThreshold&&e.length>=o.truncateThreshold){if("[object Function]"===n)return t.name&&""!==t.name?"[Function: "+t.name+"]":"[Function]";if("[object Array]"===n)return"[ Array("+t.length+") ]";if("[object Object]"===n){var i=Object.keys(t),s=i.length>2?i.splice(0,2).join(", ")+", ...":i.join(", ");return"{ Object ("+s+") }"}return e}return e}},function(t){/*!
	 * Chai - transferFlags utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e,n){var r=t.__flags||(t.__flags=Object.create(null));e.__flags||(e.__flags=Object.create(null)),n=3===arguments.length?n:!0;for(var o in r)(n||"object"!==o&&"ssfi"!==o&&"message"!=o)&&(e.__flags[o]=r[o])}},function(t,e,n){(function(t){function t(e,n,r){if(!(this instanceof t))return new t(e,n,r);var o,i=typeof e;if("number"===i)o=e>0?e>>>0:0;else if("string"===i)"base64"===n&&(e=T(e)),o=t.byteLength(e,n);else{if("object"!==i||null===e)throw new Error("First argument needs to be a number, array or string.");"Buffer"===e.type&&S(e.data)&&(e=e.data),o=+e.length>0?Math.floor(+e.length):0}var s;H?s=t._augment(new Uint8Array(o)):(s=this,s.length=o,s._isBuffer=!0);var a;if(H&&"number"==typeof e.byteLength)s._set(e);else if(O(e))if(t.isBuffer(e))for(a=0;o>a;a++)s[a]=e.readUInt8(a);else for(a=0;o>a;a++)s[a]=(e[a]%256+256)%256;else if("string"===i)s.write(e,0,n);else if("number"===i&&!H&&!r)for(a=0;o>a;a++)s[a]=0;return s}function r(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r),r>o&&(r=o)):r=o;var i=e.length;$(i%2===0,"Invalid hex string"),r>i/2&&(r=i/2);for(var s=0;r>s;s++){var a=parseInt(e.substr(2*s,2),16);$(!isNaN(a),"Invalid hex string"),t[n+s]=a}return s}function o(t,e,n,r){var o=B(I(e),t,n,r);return o}function i(t,e,n,r){var o=B(M(e),t,n,r);return o}function s(t,e,n,r){return i(t,e,n,r)}function a(t,e,n,r){var o=B(N(e),t,n,r);return o}function u(t,e,n,r){var o=B(P(e),t,n,r);return o}function c(t,e,n){return z.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function l(t,e,n){var r="",o="";n=Math.min(t.length,n);for(var i=e;n>i;i++)t[i]<=127?(r+=D(o)+String.fromCharCode(t[i]),o=""):o+="%"+t[i].toString(16);return r+D(o)}function f(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;n>o;o++)r+=String.fromCharCode(t[o]);return r}function p(t,e,n){return f(t,e,n)}function h(t,e,n){var r=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>r)&&(n=r);for(var o="",i=e;n>i;i++)o+=L(t[i]);return o}function d(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function g(t,e,n,r){r||($("boolean"==typeof n,"missing or invalid endian"),$(void 0!==e&&null!==e,"missing offset"),$(e+1<t.length,"Trying to read beyond buffer length"));var o=t.length;if(!(e>=o)){var i;return n?(i=t[e],o>e+1&&(i|=t[e+1]<<8)):(i=t[e]<<8,o>e+1&&(i|=t[e+1])),i}}function v(t,e,n,r){r||($("boolean"==typeof n,"missing or invalid endian"),$(void 0!==e&&null!==e,"missing offset"),$(e+3<t.length,"Trying to read beyond buffer length"));var o=t.length;if(!(e>=o)){var i;return n?(o>e+2&&(i=t[e+2]<<16),o>e+1&&(i|=t[e+1]<<8),i|=t[e],o>e+3&&(i+=t[e+3]<<24>>>0)):(o>e+1&&(i=t[e+1]<<16),o>e+2&&(i|=t[e+2]<<8),o>e+3&&(i|=t[e+3]),i+=t[e]<<24>>>0),i}}function m(t,e,n,r){r||($("boolean"==typeof n,"missing or invalid endian"),$(void 0!==e&&null!==e,"missing offset"),$(e+1<t.length,"Trying to read beyond buffer length"));var o=t.length;if(!(e>=o)){var i=g(t,e,n,!0),s=32768&i;return s?-1*(65535-i+1):i}}function y(t,e,n,r){r||($("boolean"==typeof n,"missing or invalid endian"),$(void 0!==e&&null!==e,"missing offset"),$(e+3<t.length,"Trying to read beyond buffer length"));var o=t.length;if(!(e>=o)){var i=v(t,e,n,!0),s=2147483648&i;return s?-1*(4294967295-i+1):i}}function b(t,e,n,r){return r||($("boolean"==typeof n,"missing or invalid endian"),$(e+3<t.length,"Trying to read beyond buffer length")),F.read(t,e,n,23,4)}function w(t,e,n,r){return r||($("boolean"==typeof n,"missing or invalid endian"),$(e+7<t.length,"Trying to read beyond buffer length")),F.read(t,e,n,52,8)}function x(t,e,n,r,o){o||($(void 0!==e&&null!==e,"missing value"),$("boolean"==typeof r,"missing or invalid endian"),$(void 0!==n&&null!==n,"missing offset"),$(n+1<t.length,"trying to write beyond buffer length"),q(e,65535));var i=t.length;if(!(n>=i)){for(var s=0,a=Math.min(i-n,2);a>s;s++)t[n+s]=(e&255<<8*(r?s:1-s))>>>8*(r?s:1-s);return n+2}}function j(t,e,n,r,o){o||($(void 0!==e&&null!==e,"missing value"),$("boolean"==typeof r,"missing or invalid endian"),$(void 0!==n&&null!==n,"missing offset"),$(n+3<t.length,"trying to write beyond buffer length"),q(e,4294967295));var i=t.length;if(!(n>=i)){for(var s=0,a=Math.min(i-n,4);a>s;s++)t[n+s]=e>>>8*(r?s:3-s)&255;return n+4}}function _(t,e,n,r,o){o||($(void 0!==e&&null!==e,"missing value"),$("boolean"==typeof r,"missing or invalid endian"),$(void 0!==n&&null!==n,"missing offset"),$(n+1<t.length,"Trying to write beyond buffer length"),R(e,32767,-32768));var i=t.length;if(!(n>=i))return e>=0?x(t,e,n,r,o):x(t,65535+e+1,n,r,o),n+2}function E(t,e,n,r,o){o||($(void 0!==e&&null!==e,"missing value"),$("boolean"==typeof r,"missing or invalid endian"),$(void 0!==n&&null!==n,"missing offset"),$(n+3<t.length,"Trying to write beyond buffer length"),R(e,2147483647,-2147483648));var i=t.length;if(!(n>=i))return e>=0?j(t,e,n,r,o):j(t,4294967295+e+1,n,r,o),n+4}function k(t,e,n,r,o){o||($(void 0!==e&&null!==e,"missing value"),$("boolean"==typeof r,"missing or invalid endian"),$(void 0!==n&&null!==n,"missing offset"),$(n+3<t.length,"Trying to write beyond buffer length"),U(e,3.4028234663852886e38,-3.4028234663852886e38));var i=t.length;if(!(n>=i))return F.write(t,e,n,r,23,4),n+4}function A(t,e,n,r,o){o||($(void 0!==e&&null!==e,"missing value"),$("boolean"==typeof r,"missing or invalid endian"),$(void 0!==n&&null!==n,"missing offset"),$(n+7<t.length,"Trying to write beyond buffer length"),U(e,1.7976931348623157e308,-1.7976931348623157e308));var i=t.length;if(!(n>=i))return F.write(t,e,n,r,52,8),n+8}function T(t){for(t=C(t).replace(J,"");t.length%4!==0;)t+="=";return t}function C(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function S(t){return(Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)})(t)}function O(e){return S(e)||t.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function L(t){return 16>t?"0"+t.toString(16):t.toString(16)}function I(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(127>=r)e.push(r);else{var o=n;r>=55296&&57343>=r&&n++;for(var i=encodeURIComponent(t.slice(o,n+1)).substr(1).split("%"),s=0;s<i.length;s++)e.push(parseInt(i[s],16))}}return e}function M(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function P(t){for(var e,n,r,o=[],i=0;i<t.length;i++)e=t.charCodeAt(i),n=e>>8,r=e%256,o.push(r),o.push(n);return o}function N(t){return z.toByteArray(t)}function B(t,e,n,r){for(var o=0;r>o&&!(o+n>=e.length||o>=t.length);o++)e[o+n]=t[o];return o}function D(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}function q(t,e){$("number"==typeof t,"cannot write a non-number as a number"),$(t>=0,"specified a negative value for writing an unsigned value"),$(e>=t,"value is larger than maximum value for type"),$(Math.floor(t)===t,"value has a fractional component")}function R(t,e,n){$("number"==typeof t,"cannot write a non-number as a number"),$(e>=t,"value larger than maximum allowed value"),$(t>=n,"value smaller than minimum allowed value"),$(Math.floor(t)===t,"value has a fractional component")}function U(t,e,n){$("number"==typeof t,"cannot write a non-number as a number"),$(e>=t,"value larger than maximum allowed value"),$(t>=n,"value smaller than minimum allowed value")}function $(t,e){if(!t)throw new Error(e||"Failed assertion")}/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
var z=n(41),F=n(42);e.Buffer=t,e.SlowBuffer=t,e.INSPECT_MAX_BYTES=50,t.poolSize=8192;var H=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(n){return!1}}();t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.byteLength=function(t,e){var n;switch(t=t.toString(),e||"utf8"){case"hex":n=t.length/2;break;case"utf8":case"utf-8":n=I(t).length;break;case"ascii":case"binary":case"raw":n=t.length;break;case"base64":n=N(t).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*t.length;break;default:throw new Error("Unknown encoding")}return n},t.concat=function(e,n){if($(S(e),"Usage: Buffer.concat(list[, length])"),0===e.length)return new t(0);if(1===e.length)return e[0];var r;if(void 0===n)for(n=0,r=0;r<e.length;r++)n+=e[r].length;var o=new t(n),i=0;for(r=0;r<e.length;r++){var s=e[r];s.copy(o,i),i+=s.length}return o},t.compare=function(e,n){$(t.isBuffer(e)&&t.isBuffer(n),"Arguments must be Buffers");for(var r=e.length,o=n.length,i=0,s=Math.min(r,o);s>i&&e[i]===n[i];i++);return i!==s&&(r=e[i],o=n[i]),o>r?-1:r>o?1:0},t.prototype.write=function(t,e,n,c){if(isFinite(e))isFinite(n)||(c=n,n=void 0);else{var l=c;c=e,e=n,n=l}e=Number(e)||0;var f=this.length-e;n?(n=Number(n),n>f&&(n=f)):n=f,c=String(c||"utf8").toLowerCase();var p;switch(c){case"hex":p=r(this,t,e,n);break;case"utf8":case"utf-8":p=o(this,t,e,n);break;case"ascii":p=i(this,t,e,n);break;case"binary":p=s(this,t,e,n);break;case"base64":p=a(this,t,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":p=u(this,t,e,n);break;default:throw new Error("Unknown encoding")}return p},t.prototype.toString=function(t,e,n){var r=this;if(t=String(t||"utf8").toLowerCase(),e=Number(e)||0,n=void 0===n?r.length:Number(n),n===e)return"";var o;switch(t){case"hex":o=h(r,e,n);break;case"utf8":case"utf-8":o=l(r,e,n);break;case"ascii":o=f(r,e,n);break;case"binary":o=p(r,e,n);break;case"base64":o=c(r,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=d(r,e,n);break;default:throw new Error("Unknown encoding")}return o},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},t.prototype.equals=function(e){return $(t.isBuffer(e),"Argument must be a Buffer"),0===t.compare(this,e)},t.prototype.compare=function(e){return $(t.isBuffer(e),"Argument must be a Buffer"),t.compare(this,e)},t.prototype.copy=function(t,e,n,r){var o=this;if(n||(n=0),r||0===r||(r=this.length),e||(e=0),r!==n&&0!==t.length&&0!==o.length){$(r>=n,"sourceEnd < sourceStart"),$(e>=0&&e<t.length,"targetStart out of bounds"),$(n>=0&&n<o.length,"sourceStart out of bounds"),$(r>=0&&r<=o.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i=r-n;if(100>i||!H)for(var s=0;i>s;s++)t[s+e]=this[s+n];else t._set(this.subarray(n,n+i),e)}},t.prototype.slice=function(e,n){var r=this.length;if(e=~~e,n=void 0===n?r:~~n,0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),0>n?(n+=r,0>n&&(n=0)):n>r&&(n=r),e>n&&(n=e),H)return t._augment(this.subarray(e,n));for(var o=n-e,i=new t(o,void 0,!0),s=0;o>s;s++)i[s]=this[s+e];return i},t.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},t.prototype.readUInt8=function(t,e){return e||($(void 0!==t&&null!==t,"missing offset"),$(t<this.length,"Trying to read beyond buffer length")),t>=this.length?void 0:this[t]},t.prototype.readUInt16LE=function(t,e){return g(this,t,!0,e)},t.prototype.readUInt16BE=function(t,e){return g(this,t,!1,e)},t.prototype.readUInt32LE=function(t,e){return v(this,t,!0,e)},t.prototype.readUInt32BE=function(t,e){return v(this,t,!1,e)},t.prototype.readInt8=function(t,e){if(e||($(void 0!==t&&null!==t,"missing offset"),$(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length)){var n=128&this[t];return n?-1*(255-this[t]+1):this[t]}},t.prototype.readInt16LE=function(t,e){return m(this,t,!0,e)},t.prototype.readInt16BE=function(t,e){return m(this,t,!1,e)},t.prototype.readInt32LE=function(t,e){return y(this,t,!0,e)},t.prototype.readInt32BE=function(t,e){return y(this,t,!1,e)},t.prototype.readFloatLE=function(t,e){return b(this,t,!0,e)},t.prototype.readFloatBE=function(t,e){return b(this,t,!1,e)},t.prototype.readDoubleLE=function(t,e){return w(this,t,!0,e)},t.prototype.readDoubleBE=function(t,e){return w(this,t,!1,e)},t.prototype.writeUInt8=function(t,e,n){return n||($(void 0!==t&&null!==t,"missing value"),$(void 0!==e&&null!==e,"missing offset"),$(e<this.length,"trying to write beyond buffer length"),q(t,255)),e>=this.length?void 0:(this[e]=t,e+1)},t.prototype.writeUInt16LE=function(t,e,n){return x(this,t,e,!0,n)},t.prototype.writeUInt16BE=function(t,e,n){return x(this,t,e,!1,n)},t.prototype.writeUInt32LE=function(t,e,n){return j(this,t,e,!0,n)},t.prototype.writeUInt32BE=function(t,e,n){return j(this,t,e,!1,n)},t.prototype.writeInt8=function(t,e,n){return n||($(void 0!==t&&null!==t,"missing value"),$(void 0!==e&&null!==e,"missing offset"),$(e<this.length,"Trying to write beyond buffer length"),R(t,127,-128)),e>=this.length?void 0:(t>=0?this.writeUInt8(t,e,n):this.writeUInt8(255+t+1,e,n),e+1)},t.prototype.writeInt16LE=function(t,e,n){return _(this,t,e,!0,n)},t.prototype.writeInt16BE=function(t,e,n){return _(this,t,e,!1,n)},t.prototype.writeInt32LE=function(t,e,n){return E(this,t,e,!0,n)},t.prototype.writeInt32BE=function(t,e,n){return E(this,t,e,!1,n)},t.prototype.writeFloatLE=function(t,e,n){return k(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return k(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return A(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return A(this,t,e,!1,n)},t.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),$(n>=e,"end < start"),n!==e&&0!==this.length){$(e>=0&&e<this.length,"start out of bounds"),$(n>=0&&n<=this.length,"end out of bounds");var r;if("number"==typeof t)for(r=e;n>r;r++)this[r]=t;else{var o=I(t.toString()),i=o.length;for(r=e;n>r;r++)this[r]=o[r%i]}return this}},t.prototype.inspect=function(){for(var t=[],n=this.length,r=0;n>r;r++)if(t[r]=L(this[r]),r===e.INSPECT_MAX_BYTES){t[r+1]="...";break}return"<Buffer "+t.join(" ")+">"},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(H)return new t(this).buffer;for(var e=new Uint8Array(this.length),n=0,r=e.length;r>n;n+=1)e[n]=this[n];return e.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var W=t.prototype;t._augment=function(t){return t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=W.get,t.set=W.set,t.write=W.write,t.toString=W.toString,t.toLocaleString=W.toString,t.toJSON=W.toJSON,t.equals=W.equals,t.compare=W.compare,t.copy=W.copy,t.slice=W.slice,t.readUInt8=W.readUInt8,t.readUInt16LE=W.readUInt16LE,t.readUInt16BE=W.readUInt16BE,t.readUInt32LE=W.readUInt32LE,t.readUInt32BE=W.readUInt32BE,t.readInt8=W.readInt8,t.readInt16LE=W.readInt16LE,t.readInt16BE=W.readInt16BE,t.readInt32LE=W.readInt32LE,t.readInt32BE=W.readInt32BE,t.readFloatLE=W.readFloatLE,t.readFloatBE=W.readFloatBE,t.readDoubleLE=W.readDoubleLE,t.readDoubleBE=W.readDoubleBE,t.writeUInt8=W.writeUInt8,t.writeUInt16LE=W.writeUInt16LE,t.writeUInt16BE=W.writeUInt16BE,t.writeUInt32LE=W.writeUInt32LE,t.writeUInt32BE=W.writeUInt32BE,t.writeInt8=W.writeInt8,t.writeInt16LE=W.writeInt16LE,t.writeInt16BE=W.writeInt16BE,t.writeInt32LE=W.writeInt32LE,t.writeInt32BE=W.writeInt32BE,t.writeFloatLE=W.writeFloatLE,t.writeFloatBE=W.writeFloatBE,t.writeDoubleLE=W.writeDoubleLE,t.writeDoubleBE=W.writeDoubleBE,t.fill=W.fill,t.inspect=W.inspect,t.toArrayBuffer=W.toArrayBuffer,t};var J=/[^+\/0-9A-z]/g}).call(e,n(10).Buffer)},function(t,e,n){t.exports=n(12)},function(t,e,n){/*!
	 * chai
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var r=[],e=t.exports={};/*!
	 * Chai version
	 */
e.version="1.9.1",/*!
	 * Assertion Error
	 */
e.AssertionError=n(31);/*!
	 * Utils for plugins (not exported)
	 */
var o=n(25);e.use=function(t){return~r.indexOf(t)||(t(this,o),r.push(t)),this};/*!
	 * Configuration
	 */
var i=n(1);e.config=i;/*!
	 * Primary `Assertion` prototype
	 */
var s=n(13);e.use(s);/*!
	 * Core Assertions
	 */
var a=n(14);e.use(a);/*!
	 * Expect interface
	 */
var u=n(16);e.use(u);/*!
	 * Should interface
	 */
var c=n(17);e.use(c);/*!
	 * Assert interface
	 */
var l=n(15);e.use(l)},function(t,e,n){/*!
	 * chai
	 * http://chaijs.com
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var r=n(1);t.exports=function(t,e){/*!
	   * Assertion Constructor
	   *
	   * Creates object for chaining.
	   *
	   * @api private
	   */
function n(t,e,n){i(this,"ssfi",n||arguments.callee),i(this,"object",t),i(this,"message",e)}/*!
	   * Module dependencies.
	   */
var o=t.AssertionError,i=e.flag;/*!
	   * Module export.
	   */
t.Assertion=n,Object.defineProperty(n,"includeStack",{get:function(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),r.includeStack},set:function(t){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),r.includeStack=t}}),Object.defineProperty(n,"showDiff",{get:function(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),r.showDiff},set:function(t){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),r.showDiff=t}}),n.addProperty=function(t,n){e.addProperty(this.prototype,t,n)},n.addMethod=function(t,n){e.addMethod(this.prototype,t,n)},n.addChainableMethod=function(t,n,r){e.addChainableMethod(this.prototype,t,n,r)},n.overwriteProperty=function(t,n){e.overwriteProperty(this.prototype,t,n)},n.overwriteMethod=function(t,n){e.overwriteMethod(this.prototype,t,n)},n.overwriteChainableMethod=function(t,n,r){e.overwriteChainableMethod(this.prototype,t,n,r)},/*!
	   * ### .assert(expression, message, negateMessage, expected, actual)
	   *
	   * Executes an expression and check expectations. Throws AssertionError for reporting if test doesn't pass.
	   *
	   * @name assert
	   * @param {Philosophical} expression to be tested
	   * @param {String} message to display if fails
	   * @param {String} negatedMessage to display if negated expression fails
	   * @param {Mixed} expected value (remember to check for negation)
	   * @param {Mixed} actual (optional) will default to `this.obj`
	   * @api private
	   */
n.prototype.assert=function(t,n,s,a,u,c){var l=e.test(this,arguments);if(!0!==c&&(c=!1),!0!==r.showDiff&&(c=!1),!l){var n=e.getMessage(this,arguments),f=e.getActual(this,arguments);throw new o(n,{actual:f,expected:a,showDiff:c},r.includeStack?this.assert:i(this,"ssfi"))}},/*!
	   * ### ._obj
	   *
	   * Quick reference to stored `actual` value for plugin developers.
	   *
	   * @api private
	   */
Object.defineProperty(n.prototype,"_obj",{get:function(){return i(this,"object")},set:function(t){i(this,"object",t)}})}},function(t){/*!
	 * chai
	 * http://chaijs.com
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e){function n(t,n){n&&w(this,"message",n),t=t.toLowerCase();var r=w(this,"object"),o=~["a","e","i","o","u"].indexOf(t.charAt(0))?"an ":"a ";this.assert(t===e.type(r),"expected #{this} to be "+o+t,"expected #{this} not to be "+o+t)}function r(){w(this,"contains",!0)}function o(t,n){n&&w(this,"message",n);var r=w(this,"object"),o=!1;if("array"===e.type(r)&&"object"===e.type(t)){for(var i in r)if(e.eql(r[i],t)){o=!0;break}}else if("object"===e.type(t)){if(!w(this,"negate")){for(var s in t)new b(r).property(s,t[s]);return}var a={};for(var s in t)a[s]=r[s];o=e.eql(a,t)}else o=r&&~r.indexOf(t);this.assert(o,"expected #{this} to include "+e.inspect(t),"expected #{this} to not include "+e.inspect(t))}function i(){var t=w(this,"object"),e=Object.prototype.toString.call(t);this.assert("[object Arguments]"===e,"expected #{this} to be arguments but got "+e,"expected #{this} to not be arguments")}function s(t,e){e&&w(this,"message",e);var n=w(this,"object");return w(this,"deep")?this.eql(t):void this.assert(t===n,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",t,this._obj,!0)}function a(t,n){n&&w(this,"message",n),this.assert(e.eql(t,w(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",t,this._obj,!0)}function u(t,e){e&&w(this,"message",e);var n=w(this,"object");if(w(this,"doLength")){new b(n,e).to.have.property("length");var r=n.length;this.assert(r>t,"expected #{this} to have a length above #{exp} but got #{act}","expected #{this} to not have a length above #{exp}",t,r)}else this.assert(n>t,"expected #{this} to be above "+t,"expected #{this} to be at most "+t)}function c(t,e){e&&w(this,"message",e);var n=w(this,"object");if(w(this,"doLength")){new b(n,e).to.have.property("length");var r=n.length;this.assert(r>=t,"expected #{this} to have a length at least #{exp} but got #{act}","expected #{this} to have a length below #{exp}",t,r)}else this.assert(n>=t,"expected #{this} to be at least "+t,"expected #{this} to be below "+t)}function l(t,e){e&&w(this,"message",e);var n=w(this,"object");if(w(this,"doLength")){new b(n,e).to.have.property("length");var r=n.length;this.assert(t>r,"expected #{this} to have a length below #{exp} but got #{act}","expected #{this} to not have a length below #{exp}",t,r)}else this.assert(t>n,"expected #{this} to be below "+t,"expected #{this} to be at least "+t)}function f(t,e){e&&w(this,"message",e);var n=w(this,"object");if(w(this,"doLength")){new b(n,e).to.have.property("length");var r=n.length;this.assert(t>=r,"expected #{this} to have a length at most #{exp} but got #{act}","expected #{this} to have a length above #{exp}",t,r)}else this.assert(t>=n,"expected #{this} to be at most "+t,"expected #{this} to be above "+t)}function p(t,n){n&&w(this,"message",n);var r=e.getName(t);this.assert(w(this,"object")instanceof t,"expected #{this} to be an instance of "+r,"expected #{this} to not be an instance of "+r)}function h(t,n){n&&w(this,"message",n);var r=w(this,"object");this.assert(r.hasOwnProperty(t),"expected #{this} to have own property "+e.inspect(t),"expected #{this} to not have own property "+e.inspect(t))}function d(){w(this,"doLength",!0)}function g(t,e){e&&w(this,"message",e);var n=w(this,"object");new b(n,e).to.have.property("length");var r=n.length;this.assert(r==t,"expected #{this} to have a length of #{exp} but got #{act}","expected #{this} to not have a length of #{act}",t,r)}function v(t){var n,r=w(this,"object"),o=!0;if(t=t instanceof Array?t:Array.prototype.slice.call(arguments),!t.length)throw new Error("keys required");var i=Object.keys(r),s=t.length;if(o=t.every(function(t){return~i.indexOf(t)}),w(this,"negate")||w(this,"contains")||(o=o&&t.length==i.length),s>1){t=t.map(function(t){return e.inspect(t)});var a=t.pop();n=t.join(", ")+", and "+a}else n=e.inspect(t[0]);n=(s>1?"keys ":"key ")+n,n=(w(this,"contains")?"contain ":"have ")+n,this.assert(o,"expected #{this} to "+n,"expected #{this} to not "+n)}function m(t,n,r){r&&w(this,"message",r);var o=w(this,"object");new b(o,r).is.a("function");var i=!1,s=null,a=null,u=null;0===arguments.length?(n=null,t=null):t&&(t instanceof RegExp||"string"==typeof t)?(n=t,t=null):t&&t instanceof Error?(s=t,t=null,n=null):"function"==typeof t?(a=t.prototype.name||t.name,"Error"===a&&t!==Error&&(a=(new t).name)):t=null;try{o()}catch(c){if(s)return this.assert(c===s,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}",s instanceof Error?s.toString():s,c instanceof Error?c.toString():c),w(this,"object",c),this;if(t&&(this.assert(c instanceof t,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp} but #{act} was thrown",a,c instanceof Error?c.toString():c),!n))return w(this,"object",c),this;var l="object"===e.type(c)&&"message"in c?c.message:""+c;if(null!=l&&n&&n instanceof RegExp)return this.assert(n.exec(l),"expected #{this} to throw error matching #{exp} but got #{act}","expected #{this} to throw error not matching #{exp}",n,l),w(this,"object",c),this;if(null!=l&&n&&"string"==typeof n)return this.assert(~l.indexOf(n),"expected #{this} to throw error including #{exp} but got #{act}","expected #{this} to throw error not including #{act}",n,l),w(this,"object",c),this;i=!0,u=c}var f="",p=null!==a?a:s?"#{exp}":"an error";i&&(f=" but #{act} was thrown"),this.assert(i===!0,"expected #{this} to throw "+p+f,"expected #{this} to not throw "+p+f,s instanceof Error?s.toString():s,u instanceof Error?u.toString():u),w(this,"object",u)}function y(t,e,n){return t.every(function(t){return n?e.some(function(e){return n(t,e)}):-1!==e.indexOf(t)})}var b=t.Assertion,w=(Object.prototype.toString,e.flag);["to","be","been","is","and","has","have","with","that","at","of","same"].forEach(function(t){b.addProperty(t,function(){return this})}),b.addProperty("not",function(){w(this,"negate",!0)}),b.addProperty("deep",function(){w(this,"deep",!0)}),b.addChainableMethod("an",n),b.addChainableMethod("a",n),b.addChainableMethod("include",o,r),b.addChainableMethod("contain",o,r),b.addProperty("ok",function(){this.assert(w(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")}),b.addProperty("true",function(){this.assert(!0===w(this,"object"),"expected #{this} to be true","expected #{this} to be false",this.negate?!1:!0)}),b.addProperty("false",function(){this.assert(!1===w(this,"object"),"expected #{this} to be false","expected #{this} to be true",this.negate?!0:!1)}),b.addProperty("null",function(){this.assert(null===w(this,"object"),"expected #{this} to be null","expected #{this} not to be null")}),b.addProperty("undefined",function(){this.assert(void 0===w(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")}),b.addProperty("exist",function(){this.assert(null!=w(this,"object"),"expected #{this} to exist","expected #{this} to not exist")}),b.addProperty("empty",function(){var t=w(this,"object"),e=t;Array.isArray(t)||"string"==typeof object?e=t.length:"object"==typeof t&&(e=Object.keys(t).length),this.assert(!e,"expected #{this} to be empty","expected #{this} not to be empty")}),b.addProperty("arguments",i),b.addProperty("Arguments",i),b.addMethod("equal",s),b.addMethod("equals",s),b.addMethod("eq",s),b.addMethod("eql",a),b.addMethod("eqls",a),b.addMethod("above",u),b.addMethod("gt",u),b.addMethod("greaterThan",u),b.addMethod("least",c),b.addMethod("gte",c),b.addMethod("below",l),b.addMethod("lt",l),b.addMethod("lessThan",l),b.addMethod("most",f),b.addMethod("lte",f),b.addMethod("within",function(t,e,n){n&&w(this,"message",n);var r=w(this,"object"),o=t+".."+e;if(w(this,"doLength")){new b(r,n).to.have.property("length");var i=r.length;this.assert(i>=t&&e>=i,"expected #{this} to have a length within "+o,"expected #{this} to not have a length within "+o)}else this.assert(r>=t&&e>=r,"expected #{this} to be within "+o,"expected #{this} to not be within "+o)}),b.addMethod("instanceof",p),b.addMethod("instanceOf",p),b.addMethod("property",function(t,n,r){r&&w(this,"message",r);var o=w(this,"deep")?"deep property ":"property ",i=w(this,"negate"),s=w(this,"object"),a=w(this,"deep")?e.getPathValue(t,s):s[t];if(i&&void 0!==n){if(void 0===a)throw r=null!=r?r+": ":"",new Error(r+e.inspect(s)+" has no "+o+e.inspect(t))}else this.assert(void 0!==a,"expected #{this} to have a "+o+e.inspect(t),"expected #{this} to not have "+o+e.inspect(t));void 0!==n&&this.assert(n===a,"expected #{this} to have a "+o+e.inspect(t)+" of #{exp}, but got #{act}","expected #{this} to not have a "+o+e.inspect(t)+" of #{act}",n,a),w(this,"object",a)}),b.addMethod("ownProperty",h),b.addMethod("haveOwnProperty",h),b.addChainableMethod("length",g,d),b.addMethod("lengthOf",g,d),b.addMethod("match",function(t,e){e&&w(this,"message",e);var n=w(this,"object");this.assert(t.exec(n),"expected #{this} to match "+t,"expected #{this} not to match "+t)}),b.addMethod("string",function(t,n){n&&w(this,"message",n);var r=w(this,"object");new b(r,n).is.a("string"),this.assert(~r.indexOf(t),"expected #{this} to contain "+e.inspect(t),"expected #{this} to not contain "+e.inspect(t))}),b.addMethod("keys",v),b.addMethod("key",v),b.addMethod("throw",m),b.addMethod("throws",m),b.addMethod("Throw",m),b.addMethod("respondTo",function(t,n){n&&w(this,"message",n);var r=w(this,"object"),o=w(this,"itself"),i="function"!==e.type(r)||o?r[t]:r.prototype[t];this.assert("function"==typeof i,"expected #{this} to respond to "+e.inspect(t),"expected #{this} to not respond to "+e.inspect(t))}),b.addProperty("itself",function(){w(this,"itself",!0)}),b.addMethod("satisfy",function(t,n){n&&w(this,"message",n);var r=w(this,"object");this.assert(t(r),"expected #{this} to satisfy "+e.objDisplay(t),"expected #{this} to not satisfy"+e.objDisplay(t),this.negate?!1:!0,t(r))}),b.addMethod("closeTo",function(t,e,n){n&&w(this,"message",n);var r=w(this,"object");this.assert(Math.abs(r-t)<=e,"expected #{this} to be close to "+t+" +/- "+e,"expected #{this} not to be close to "+t+" +/- "+e)}),b.addMethod("members",function(t,n){n&&w(this,"message",n);var r=w(this,"object");new b(r).to.be.an("array"),new b(t).to.be.an("array");var o=w(this,"deep")?e.eql:void 0;return w(this,"contains")?this.assert(y(t,r,o),"expected #{this} to be a superset of #{act}","expected #{this} to not be a superset of #{act}",r,t):void this.assert(y(r,t,o)&&y(t,r,o),"expected #{this} to have the same members as #{act}","expected #{this} to not have the same members as #{act}",r,t)})}},function(module,exports,__webpack_require__){/*!
	 * chai
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
module.exports=function(chai,util){/*!
	   * Chai dependencies.
	   */
var Assertion=chai.Assertion,flag=util.flag,assert=chai.assert=function(t,e){var n=new Assertion(null,null,chai.assert);n.assert(t,e,"[ negation message unavailable ]")};assert.fail=function(t,e,n,r){throw n=n||"assert.fail()",new chai.AssertionError(n,{actual:t,expected:e,operator:r},assert.fail)},assert.ok=function(t,e){new Assertion(t,e).is.ok},assert.notOk=function(t,e){new Assertion(t,e).is.not.ok},assert.equal=function(t,e,n){var r=new Assertion(t,n,assert.equal);r.assert(e==flag(r,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",e,t)},assert.notEqual=function(t,e,n){var r=new Assertion(t,n,assert.notEqual);r.assert(e!=flag(r,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",e,t)},assert.strictEqual=function(t,e,n){new Assertion(t,n).to.equal(e)},assert.notStrictEqual=function(t,e,n){new Assertion(t,n).to.not.equal(e)},assert.deepEqual=function(t,e,n){new Assertion(t,n).to.eql(e)},assert.notDeepEqual=function(t,e,n){new Assertion(t,n).to.not.eql(e)},assert.isTrue=function(t,e){new Assertion(t,e).is["true"]},assert.isFalse=function(t,e){new Assertion(t,e).is["false"]},assert.isNull=function(t,e){new Assertion(t,e).to.equal(null)},assert.isNotNull=function(t,e){new Assertion(t,e).to.not.equal(null)},assert.isUndefined=function(t,e){new Assertion(t,e).to.equal(void 0)},assert.isDefined=function(t,e){new Assertion(t,e).to.not.equal(void 0)},assert.isFunction=function(t,e){new Assertion(t,e).to.be.a("function")},assert.isNotFunction=function(t,e){new Assertion(t,e).to.not.be.a("function")},assert.isObject=function(t,e){new Assertion(t,e).to.be.a("object")},assert.isNotObject=function(t,e){new Assertion(t,e).to.not.be.a("object")},assert.isArray=function(t,e){new Assertion(t,e).to.be.an("array")},assert.isNotArray=function(t,e){new Assertion(t,e).to.not.be.an("array")},assert.isString=function(t,e){new Assertion(t,e).to.be.a("string")},assert.isNotString=function(t,e){new Assertion(t,e).to.not.be.a("string")},assert.isNumber=function(t,e){new Assertion(t,e).to.be.a("number")},assert.isNotNumber=function(t,e){new Assertion(t,e).to.not.be.a("number")},assert.isBoolean=function(t,e){new Assertion(t,e).to.be.a("boolean")},assert.isNotBoolean=function(t,e){new Assertion(t,e).to.not.be.a("boolean")},assert.typeOf=function(t,e,n){new Assertion(t,n).to.be.a(e)},assert.notTypeOf=function(t,e,n){new Assertion(t,n).to.not.be.a(e)},assert.instanceOf=function(t,e,n){new Assertion(t,n).to.be.instanceOf(e)},assert.notInstanceOf=function(t,e,n){new Assertion(t,n).to.not.be.instanceOf(e)},assert.include=function(t,e,n){new Assertion(t,n,assert.include).include(e)},assert.notInclude=function(t,e,n){new Assertion(t,n,assert.notInclude).not.include(e)},assert.match=function(t,e,n){new Assertion(t,n).to.match(e)},assert.notMatch=function(t,e,n){new Assertion(t,n).to.not.match(e)},assert.property=function(t,e,n){new Assertion(t,n).to.have.property(e)},assert.notProperty=function(t,e,n){new Assertion(t,n).to.not.have.property(e)},assert.deepProperty=function(t,e,n){new Assertion(t,n).to.have.deep.property(e)},assert.notDeepProperty=function(t,e,n){new Assertion(t,n).to.not.have.deep.property(e)},assert.propertyVal=function(t,e,n,r){new Assertion(t,r).to.have.property(e,n)},assert.propertyNotVal=function(t,e,n,r){new Assertion(t,r).to.not.have.property(e,n)},assert.deepPropertyVal=function(t,e,n,r){new Assertion(t,r).to.have.deep.property(e,n)},assert.deepPropertyNotVal=function(t,e,n,r){new Assertion(t,r).to.not.have.deep.property(e,n)},assert.lengthOf=function(t,e,n){new Assertion(t,n).to.have.length(e)},assert.Throw=function(t,e,n,r){("string"==typeof e||e instanceof RegExp)&&(n=e,e=null);var o=new Assertion(t,r).to.Throw(e,n);return flag(o,"object")},assert.doesNotThrow=function(t,e,n){"string"==typeof e&&(n=e,e=null),new Assertion(t,n).to.not.Throw(e)},assert.operator=function(val,operator,val2,msg){if(!~["==","===",">",">=","<","<=","!=","!=="].indexOf(operator))throw new Error('Invalid operator "'+operator+'"');var test=new Assertion(eval(val+operator+val2),msg);test.assert(!0===flag(test,"object"),"expected "+util.inspect(val)+" to be "+operator+" "+util.inspect(val2),"expected "+util.inspect(val)+" to not be "+operator+" "+util.inspect(val2))},assert.closeTo=function(t,e,n,r){new Assertion(t,r).to.be.closeTo(e,n)},assert.sameMembers=function(t,e,n){new Assertion(t,n).to.have.same.members(e)},assert.includeMembers=function(t,e,n){new Assertion(t,n).to.include.members(e)},/*!
	   * Undocumented / untested
	   */
assert.ifError=function(t,e){new Assertion(t,e).to.not.be.ok},/*!
	   * Aliases.
	   */
function t(e,n){return assert[n]=assert[e],t}("Throw","throw")("Throw","throws")}},function(t){/*!
	 * chai
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t){t.expect=function(e,n){return new t.Assertion(e,n)}}},function(t){/*!
	 * chai
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t){function e(){function t(){return this instanceof String||this instanceof Number?new n(this.constructor(this),null,t):this instanceof Boolean?new n(1==this,null,t):new n(this,null,t)}function e(t){Object.defineProperty(this,"should",{value:t,enumerable:!0,configurable:!0,writable:!0})}Object.defineProperty(Object.prototype,"should",{set:e,get:t,configurable:!0});var r={};return r.equal=function(t,e,r){new n(t,r).to.equal(e)},r.Throw=function(t,e,r,o){new n(t,o).to.Throw(e,r)},r.exist=function(t,e){new n(t,e).to.exist},r.not={},r.not.equal=function(t,e,r){new n(t,r).to.not.equal(e)},r.not.Throw=function(t,e,r,o){new n(t,o).to.not.Throw(e,r)},r.not.exist=function(t,e){new n(t,e).to.not.exist},r["throw"]=r.Throw,r.not["throw"]=r.not.Throw,r}var n=t.Assertion;t.should=e,t.Should=e}},function(t,e,n){/*!
	 * Chai - addChainingMethod utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependencies
	 */
var r=n(9),o=n(2),i=n(1),s="__proto__"in Object,a=/^(?:length|name|arguments|caller)$/,u=Function.prototype.call,c=Function.prototype.apply;t.exports=function(t,e,n,l){"function"!=typeof l&&(l=function(){});var f={method:n,chainingBehavior:l};t.__methods||(t.__methods={}),t.__methods[e]=f,Object.defineProperty(t,e,{get:function(){f.chainingBehavior.call(this);var e=function p(){var t=o(this,"ssfi");t&&i.includeStack===!1&&o(this,"ssfi",p);var e=f.method.apply(this,arguments);return void 0===e?this:e};if(s){var n=e.__proto__=Object.create(this);n.call=u,n.apply=c}else{var l=Object.getOwnPropertyNames(t);l.forEach(function(n){if(!a.test(n)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r)}})}return r(this,e),e},configurable:!0})}},function(t,e,n){/*!
	 * Chai - addMethod utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var r=n(1),o=n(2);t.exports=function(t,e,n){t[e]=function(){var i=o(this,"ssfi");i&&r.includeStack===!1&&o(this,"ssfi",t[e]);var s=n.apply(this,arguments);return void 0===s?this:s}}},function(t){/*!
	 * Chai - addProperty utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e,n){Object.defineProperty(t,e,{get:function(){var t=n.call(this);return void 0===t?this:t},configurable:!0})}},function(t){/*!
	 * Chai - getEnumerableProperties utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t){var e=[];for(var n in t)e.push(n);return e}},function(t,e,n){/*!
	 * Chai - message composition utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependancies
	 */
var r=n(2),o=n(6),i=(n(4),n(8));t.exports=function(t,e){var n=r(t,"negate"),s=r(t,"object"),a=e[3],u=o(t,e),c=n?e[2]:e[1],l=r(t,"message");return c=c||"",c=c.replace(/#{this}/g,i(s)).replace(/#{act}/g,i(u)).replace(/#{exp}/g,i(a)),l?l+": "+c:c}},function(t){/*!
	 * ## parsePath(path)
	 *
	 * Helper function used to parse string object
	 * paths. Use in conjunction with `_getPathValue`.
	 *
	 *      var parsed = parsePath('myobject.property.subprop');
	 *
	 * ### Paths:
	 *
	 * * Can be as near infinitely deep and nested
	 * * Arrays are also valid using the formal `myobject.document[3].property`.
	 *
	 * @param {String} path
	 * @returns {Object} parsed
	 * @api private
	 */
function e(t){var e=t.replace(/\[/g,".["),n=e.match(/(\\\.|[^.]+?)+/g);return n.map(function(t){var e=/\[(\d+)\]$/,n=e.exec(t);return n?{i:parseFloat(n[1])}:{p:t}})}/*!
	 * ## _getPathValue(parsed, obj)
	 *
	 * Helper companion function for `.parsePath` that returns
	 * the value located at the parsed address.
	 *
	 *      var value = getPathValue(parsed, obj);
	 *
	 * @param {Object} parsed definition from `parsePath`.
	 * @param {Object} object to search against
	 * @returns {Object|Undefined} value
	 * @api private
	 */
function n(t,e){for(var n,r=e,o=0,i=t.length;i>o;o++){var s=t[o];r?("undefined"!=typeof s.p?r=r[s.p]:"undefined"!=typeof s.i&&(r=r[s.i]),o==i-1&&(n=r)):n=void 0}return n}/*!
	 * Chai - getPathValue utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * @see https://github.com/logicalparadox/filtr
	 * MIT Licensed
	 */
t.exports=function(t,r){var o=e(t);return n(o,r)}},function(t){/*!
	 * Chai - getProperties utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(){function t(t){-1===e.indexOf(t)&&e.push(t)}for(var e=Object.getOwnPropertyNames(subject),n=Object.getPrototypeOf(subject);null!==n;)Object.getOwnPropertyNames(n).forEach(t),n=Object.getPrototypeOf(n);return e}},function(t,e,n){/*!
	 * chai
	 * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Main exports
	 */
var e=t.exports={};/*!
	 * test utility
	 */
e.test=n(29),/*!
	 * type utility
	 */
e.type=n(30),/*!
	 * message utility
	 */
e.getMessage=n(22),/*!
	 * actual utility
	 */
e.getActual=n(6),/*!
	 * Inspect util
	 */
e.inspect=n(4),/*!
	 * Object Display util
	 */
e.objDisplay=n(8),/*!
	 * Flag utility
	 */
e.flag=n(2),/*!
	 * Flag transferring utility
	 */
e.transferFlags=n(9),/*!
	 * Deep equal utility
	 */
e.eql=n(32),/*!
	 * Deep path value
	 */
e.getPathValue=n(23),/*!
	 * Function name
	 */
e.getName=n(7),/*!
	 * add Property
	 */
e.addProperty=n(20),/*!
	 * add Method
	 */
e.addMethod=n(19),/*!
	 * overwrite Property
	 */
e.overwriteProperty=n(28),/*!
	 * overwrite Method
	 */
e.overwriteMethod=n(27),/*!
	 * Add a chainable method
	 */
e.addChainableMethod=n(18),/*!
	 * Overwrite chainable method
	 */
e.overwriteChainableMethod=n(26)},function(t){/*!
	 * Chai - overwriteChainableMethod utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e,n,r){var o=t.__methods[e],i=o.chainingBehavior;o.chainingBehavior=function(){var t=r(i).call(this);return void 0===t?this:t};var s=o.method;o.method=function(){var t=n(s).apply(this,arguments);return void 0===t?this:t}}},function(t){/*!
	 * Chai - overwriteMethod utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e,n){var r=t[e],o=function(){return this};r&&"function"==typeof r&&(o=r),t[e]=function(){var t=n(o).apply(this,arguments);return void 0===t?this:t}}},function(t){/*!
	 * Chai - overwriteProperty utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e,n){var r=Object.getOwnPropertyDescriptor(t,e),o=function(){};r&&"function"==typeof r.get&&(o=r.get),Object.defineProperty(t,e,{get:function(){var t=n(o).call(this);return void 0===t?this:t},configurable:!0})}},function(t,e,n){/*!
	 * Chai - test utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependancies
	 */
var r=n(2);t.exports=function(t,e){var n=r(t,"negate"),o=e[0];return n?!o:o}},function(t){/*!
	 * Chai - type utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Detectable javascript natives
	 */
var e={"[object Arguments]":"arguments","[object Array]":"array","[object Date]":"date","[object Function]":"function","[object Number]":"number","[object RegExp]":"regexp","[object String]":"string"};t.exports=function(t){var n=Object.prototype.toString.call(t);return e[n]?e[n]:null===t?"null":void 0===t?"undefined":t===Object(t)?"object":typeof t}},function(t){/*!
	 * assertion-error
	 * Copyright(c) 2013 Jake Luer <jake@qualiancy.com>
	 * MIT Licensed
	 */
/*!
	 * Return a function that will copy properties from
	 * one object to another excluding any originally
	 * listed. Returned function will create a new `{}`.
	 *
	 * @param {String} excluded properties ...
	 * @return {Function}
	 */
function e(){function t(t,n){Object.keys(n).forEach(function(r){~e.indexOf(r)||(t[r]=n[r])})}var e=[].slice.call(arguments);return function(){for(var e=[].slice.call(arguments),n=0,r={};n<e.length;n++)t(r,e[n]);return r}}function n(t,n,r){var o=e("name","message","stack","constructor","toJSON"),i=o(n||{});this.message=t||"Unspecified AssertionError",this.showDiff=!1;for(var s in i)this[s]=i[s];r=r||arguments.callee,r&&Error.captureStackTrace&&Error.captureStackTrace(this,r)}/*!
	 * Primary Exports
	 */
t.exports=n,/*!
	 * Inherit from Error.prototype
	 */
n.prototype=Object.create(Error.prototype),/*!
	 * Statically set name
	 */
n.prototype.name="AssertionError",/*!
	 * Ensure correct constructor
	 */
n.prototype.constructor=n,n.prototype.toJSON=function(t){var n=e("constructor","toJSON","stack"),r=n({name:this.name},this);return!1!==t&&this.stack&&(r.stack=this.stack),r}},function(t,e,n){t.exports=n(33)},function(t,e,n){function r(t,e,n){return o(t,e)?!0:"date"===g(t)?s(t,e):"regexp"===g(t)?a(t,e):d.isBuffer(t)?f(t,e):"arguments"===g(t)?u(t,e,n):i(t,e)?"object"!==g(t)&&"object"!==g(e)&&"array"!==g(t)&&"array"!==g(e)?o(t,e):h(t,e,n):!1}/*!
	 * Strict (egal) equality test. Ensures that NaN always
	 * equals NaN and `-0` does not equal `+0`.
	 *
	 * @param {Mixed} a
	 * @param {Mixed} b
	 * @return {Boolean} equal match
	 */
function o(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}/*!
	 * Compare the types of two given objects and
	 * return if they are equal. Note that an Array
	 * has a type of `array` (not `object`) and arguments
	 * have a type of `arguments` (not `array`/`object`).
	 *
	 * @param {Mixed} a
	 * @param {Mixed} b
	 * @return {Boolean} result
	 */
function i(t,e){return g(t)===g(e)}/*!
	 * Compare two Date objects by asserting that
	 * the time values are equal using `saveValue`.
	 *
	 * @param {Date} a
	 * @param {Date} b
	 * @return {Boolean} result
	 */
function s(t,e){return"date"!==g(e)?!1:o(t.getTime(),e.getTime())}/*!
	 * Compare two regular expressions by converting them
	 * to string and checking for `sameValue`.
	 *
	 * @param {RegExp} a
	 * @param {RegExp} b
	 * @return {Boolean} result
	 */
function a(t,e){return"regexp"!==g(e)?!1:o(t.toString(),e.toString())}/*!
	 * Assert deep equality of two `arguments` objects.
	 * Unfortunately, these must be sliced to arrays
	 * prior to test to ensure no bad behavior.
	 *
	 * @param {Arguments} a
	 * @param {Arguments} b
	 * @param {Array} memoize (optional)
	 * @return {Boolean} result
	 */
function u(t,e,n){return"arguments"!==g(e)?!1:(t=[].slice.call(t),e=[].slice.call(e),r(t,e,n))}/*!
	 * Get enumerable properties of a given object.
	 *
	 * @param {Object} a
	 * @return {Array} property names
	 */
function c(t){var e=[];for(var n in t)e.push(n);return e}/*!
	 * Simple equality for flat iterable objects
	 * such as Arrays or Node.js buffers.
	 *
	 * @param {Iterable} a
	 * @param {Iterable} b
	 * @return {Boolean} result
	 */
function l(t,e){if(t.length!==e.length)return!1;for(var n=0,r=!0;n<t.length;n++)if(t[n]!==e[n]){r=!1;break}return r}/*!
	 * Extension to `iterableEqual` specifically
	 * for Node.js Buffers.
	 *
	 * @param {Buffer} a
	 * @param {Mixed} b
	 * @return {Boolean} result
	 */
function f(t,e){return d.isBuffer(e)?l(t,e):!1}/*!
	 * Block for `objectEqual` ensuring non-existing
	 * values don't get in.
	 *
	 * @param {Mixed} object
	 * @return {Boolean} result
	 */
function p(t){return null!==t&&void 0!==t}/*!
	 * Recursively check the equality of two objects.
	 * Once basic sameness has been established it will
	 * defer to `deepEqual` for each enumerable key
	 * in the object.
	 *
	 * @param {Mixed} a
	 * @param {Mixed} b
	 * @return {Boolean} result
	 */
function h(t,e,n){if(!p(t)||!p(e))return!1;if(t.prototype!==e.prototype)return!1;var o;if(n){for(o=0;o<n.length;o++)if(n[o][0]===t&&n[o][1]===e||n[o][0]===e&&n[o][1]===t)return!0}else n=[];try{var i=c(t),s=c(e)}catch(a){return!1}if(i.sort(),s.sort(),!l(i,s))return!1;n.push([t,e]);var u;for(o=i.length-1;o>=0;o--)if(u=i[o],!r(t[u],e[u],n))return!1;return!0}/*!
	 * deep-eql
	 * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependencies
	 */
var d,g=n(34);try{d=n(10).Buffer}catch(v){d={},d.isBuffer=function(){return!1}}/*!
	 * Primary Export
	 */
t.exports=r},function(t,e,n){t.exports=n(35)},function(t,e){function n(t){var e=Object.prototype.toString.call(t);return o[e]?o[e]:null===t?"null":void 0===t?"undefined":t===Object(t)?"object":typeof t}function r(){this.tests={}}/*!
	 * type-detect
	 * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Primary Exports
	 */
var e=t.exports=n,o={"[object Array]":"array","[object RegExp]":"regexp","[object Function]":"function","[object Arguments]":"arguments","[object Date]":"date"};e.Library=r,r.prototype.of=n,r.prototype.define=function(t,e){return 1===arguments.length?this.tests[t]:(this.tests[t]=e,this)},r.prototype.test=function(t,e){if(e===n(t))return!0;var r=this.tests[e];if(r&&"regexp"===n(r))return r.test(t);if(r&&"function"===n(r))return r(t);throw new ReferenceError('Type test "'+e+'" not defined or invalid.')}},function(t,e,n){var r,o,i,s;s=n(5),i=s._exposed,o=function(t){var e;return e=-1,function(){return e=++e%t.length,t[e]}},r=function(t,e){var n;return n=document.createElement("div"),n.innerHTML="#"+t+"<br>",n.appendChild(e),document.getElementById("pic").appendChild(n)},describe("Generator Tests",function(){return describe("Internal methods",function(){return describe("makeColor should",function(){return it("return a mid hsl color ",function(){var t;return t=i.makeColor(function(){return.5}),assert.equal(t,"hsl( 180, 50%, 50%)")}),it("return the min bright color on 0",function(){var t;return t=i.makeColor(function(){return 0}),assert.equal(t,"hsl( 0, 0%, 35%)")}),it("return the max bright color on 1",function(){var t;return t=i.makeColor(function(){return 1}),assert.equal(t,"hsl( 360, 100%, 65%)")}),it("return 'random' color",function(){var t,e;return e=[.3,.4,.7],t=i.makeColor(function(){return e.pop()}),assert.equal(t,"hsl( 251, 40%, 44%)")})}),describe("generateData should",function(){return it("return 15 * 15 data points by default",function(){var t;return t=i.generateData(function(){return.5}),assert.equal(t.length,225)}),it("return X * X data points if size X is provided",function(){var t;return t=i.generateData(o(.5),4),assert.equal(t.length,16)}),it("return true for pixels where rand returns 1",function(){var t,e,n,r,o;for(t=i.generateData(function(){return 1}),o=[],n=0,r=t.length;r>n;n++)e=t[n],o.push(assert.ok(e));return o}),it("return false for pixels where rand returns 0",function(){var t,e,n,r,o;for(t=i.generateData(function(){return 0}),o=[],n=0,r=t.length;r>n;n++)e=t[n],o.push(assert.notOk(e));return o}),it("return true for pixels where rand returns 0.5",function(){var t,e,n,r,o;for(t=i.generateData(function(){return.5}),o=[],n=0,r=t.length;r>n;n++)e=t[n],o.push(assert.ok(e));return o}),it("vary when rand does",function(){var t;return t=i.generateData(o([0,.1,.4,.5,.6,1])),assert.deepEqual(t.slice(0,15),[!1,!1,!1,!0,!0,!0,!1,!1,!1,!0,!0,!0,!1,!1,!1])}),it("is mirrored over the center on even size",function(){var t,e,n;return t=i.generateData(o([0,1,0,1,1]),10),e=[!1,!0,!1,!0,!0],n=_.flatten([e.slice(0,5),e.reverse()]),assert.deepEqual(t.slice(0,10),n)}),it("is mirrored over the center on uneven size",function(){var t,e,n;return t=i.generateData(o([0,1,0,1,1]),11),e=[!1,!0,!1,!0,!0,!1],n=_.flatten([e.slice(0,5),e.reverse()]),assert.deepEqual(t.slice(0,11),n)}),it("small full matrix",function(){var t;return t=i.generateData(o([0,1,0,1,1]),5),assert.deepEqual(t,[!1,!0,!1,!0,!1,!0,!0,!1,!0,!0,!0,!1,!0,!1,!0,!0,!1,!0,!1,!0,!1,!0,!0,!0,!1])})}),describe("makeCanvas should",function(){return before(function(){return this.small=i.generateData(o([0,1,0,1,1,0]),5),this.medium=i.generateData(o([0,1,0,1,1,0,0,0,1]),10),this.large=i.generateData(o([0,1,0,1,1,0,1,1,0,0,1,1,1]),13)}),it("return small canvas element (visual #1)",function(){var t,e,n;return t=i.makeCanvas(this.small,5,"#7a4"),n=t.toDataURL(),console.log(n),r(1,t),e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAV0lEQVRIS2NkwALKV7n8RxfuDNvDiC5GrDoMjSCDiNVMrLpRS8DRQ3RwYVOILTEQG/HY9DKOWoIrTgYuuEZzPEn5ZPgE12hmHHyZkS5xMnyS8KhPSCm7AIbhuAJghnYjAAAAAElFTkSuQmCC",assert.equal(n,e)}),it("return medium canvas element (visual #2)",function(){var t;return t=i.makeCanvas(this.medium,5,"#a47"),assert.match(t.toDataURL(),/data:image\/png;base64,/),r(2,t)}),it("return @large canvas element (visual #3)",function(){var t;return t=i.makeCanvas(this.large,5,"#47a"),assert.match(t.toDataURL(),/data:image\/png;base64,/),r(3,t)})})}),describe("Api methods",function(){return describe("visual tests",function(){return it("color does not change the pattern (visual #4 + #5)",function(){return r(4,s("same pattern")),r(5,s("same pattern",{color:"green"}))}),it("scale does not change the pattern (visual #6)",function(){return r(6,s("same pattern",{scale:4,color:"#ea8"}))}),it("size does change the pattern (visual #7)",function(){return r(7,s("same pattern",{size:11,color:"#a84"}))}),it("small seed change -> big pattern change (visual #8 + #9)",function(){return r(8,s("pattern1",{color:"#000"})),r(9,s("pattern2",{color:"#000"}))})})})})},function(t,e,n){var r;r=n(3),describe("Randomizer Tests",function(){var t;return t=void 0,describe("should be predictable and",function(){return beforeEach(function(){return t=r("test-seed",0,99)}),it("use seed as base",function(){return t=r("test-seed2",0,99),assert.deepEqual([77,67,57],[t(),t(),t()])}),it("give the same series when initialized with the same seed",function(){var e,n;return e=[t(),t(),t(),t()],t=r("test-seed",0,99),n=[t(),t(),t(),t()],assert.deepEqual(e,n)}),it("vary even if seed does not",function(){return t=r("aaaa",0,99),assert.deepEqual([4,3,97],[t(),t(),t()])}),it("return float on 0..1",function(){var e;return t=r("test-seed",0,1),e=t(),assert(e>0,"greater than 0"),assert(1>e,"less than 1")}),it("return int on max > 1",function(){var e;return t=r("expect integer",0,2),e=t(),assert.equal(e,1)})}),describe("should be fair and",function(){var e,n;return n={max:0,min:666,sum:0,map:{}},e=15e4,before(function(){var o,i,s;for(t=r("fairness"+Math.random(),0,999),i=void 0,o=0,s=[];e>o;)i=t(),n.max=n.max<i?i:n.max,n.min=n.min>i?i:n.min,n.map[""+i]=(n.map[""+i]||0)+1,n.sum+=i,s.push(o++);return s}),it("respect the borders",function(){return assert.equal(999,n.max,"max"),assert.equal(0,n.min,"min")}),it("even out the avg",function(){return assert(Math.abs(n.sum/e)-500<=10,"avg")}),it("even out the discrete values",function(){var t,r,o,i;for(o={},t=0,i=[];999>t;)r=n.map[t]/e*1e3*100|0,o[""+r]=(o[""+r]||0)+1,assert(r>50,"expect "+t+" count : "+n.map[t]+" idx "+r+" to be > 50"),i.push(t++);return i})})})},function(t,e,n){var r;(function(t,o){(function(){function i(t,e,n){for(var r=(n||0)-1,o=t?t.length:0;++r<o;)if(t[r]===e)return r;return-1}function s(t,e){var n=typeof e;if(t=t.cache,"boolean"==n||null==e)return t[e]?0:-1;"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:E+e;return t=(t=t[n])&&t[r],"object"==n?t&&i(t,e)>-1?0:-1:t?0:-1}function a(t){var e=this.cache,n=typeof t;if("boolean"==n||null==t)e[t]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?t:E+t,o=e[n]||(e[n]={});"object"==n?(o[r]||(o[r]=[])).push(t):o[r]=!0}}function u(t){return t.charCodeAt(0)}function c(t,e){for(var n=t.criteria,r=e.criteria,o=-1,i=n.length;++o<i;){var s=n[o],a=r[o];if(s!==a){if(s>a||"undefined"==typeof s)return 1;if(a>s||"undefined"==typeof a)return-1}}return t.index-e.index}function l(t){var e=-1,n=t.length,r=t[0],o=t[n/2|0],i=t[n-1];if(r&&"object"==typeof r&&o&&"object"==typeof o&&i&&"object"==typeof i)return!1;var s=h();s["false"]=s["null"]=s["true"]=s.undefined=!1;var u=h();for(u.array=t,u.cache=s,u.push=a;++e<n;)u.push(t[e]);return u}function f(t){return"\\"+oe[t]}function p(){return w.pop()||[]}function h(){return x.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function d(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}function g(t){t.length=0,w.length<T&&w.push(t)}function v(t){var e=t.cache;e&&v(e),t.array=t.cache=t.criteria=t.object=t.number=t.string=t.value=null,x.length<T&&x.push(t)}function m(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(0>o?0:o);++r<o;)i[r]=t[e+r];return i}function y(t){function e(t){return t&&"object"==typeof t&&!fo(t)&&Hr.call(t,"__wrapped__")?t:new n(t)}function n(t,e){this.__chain__=!!e,this.__wrapped__=t}function r(t){function e(){if(r){var t=m(r);Wr.apply(t,arguments)}if(this instanceof e){var i=a(n.prototype),s=n.apply(i,t||arguments);return De(s)?s:i}return n.apply(o,t||arguments)}var n=t[0],r=t[2],o=t[4];return lo(e,t),e}function o(t,e,n,r,i){if(n){var s=n(t);if("undefined"!=typeof s)return s}var a=De(t);if(!a)return t;var u=Dr.call(t);if(!Z[u]||!uo.nodeClass&&d(t))return t;var c=so[u];switch(u){case W:case J:return new c(+t);case K:case Q:return new c(t);case Y:return s=c(t.source,M.exec(t)),s.lastIndex=t.lastIndex,s}var l=fo(t);if(e){var f=!r;r||(r=p()),i||(i=p());for(var h=r.length;h--;)if(r[h]==t)return i[h];s=l?c(t.length):{}}else s=l?m(t):_o({},t);return l&&(Hr.call(t,"index")&&(s.index=t.index),Hr.call(t,"input")&&(s.input=t.input)),e?(r.push(t),i.push(s),(l?jo:Ao)(t,function(t,a){s[a]=o(t,e,n,r,i)}),f&&(g(r),g(i)),s):s}function a(t){return De(t)?Yr(t):{}}function w(t,e,n){if("function"!=typeof t)return ir;if("undefined"==typeof e||!("prototype"in t))return t;var r=t.__bindData__;if("undefined"==typeof r&&(uo.funcNames&&(r=!t.name),r=r||!uo.funcDecomp,!r)){var o=zr.call(t);uo.funcNames||(r=!P.test(o)),r||(r=q.test(o),lo(t,r))}if(r===!1||r!==!0&&1&r[1])return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)}}return zn(t,e)}function x(t){function e(){var t=c?s:this;if(o){var d=m(o);Wr.apply(d,arguments)}if((i||f)&&(d||(d=m(arguments)),i&&Wr.apply(d,i),f&&d.length<u))return r|=16,x([n,p?r:-4&r,d,null,s,u]);if(d||(d=arguments),l&&(n=t[h]),this instanceof e){t=a(n.prototype);var g=n.apply(t,d);return De(g)?g:t}return n.apply(t,d)}var n=t[0],r=t[1],o=t[2],i=t[3],s=t[4],u=t[5],c=1&r,l=2&r,f=4&r,p=8&r,h=n;return lo(e,t),e}function T(t,e){var n=-1,r=ge(),o=t?t.length:0,a=o>=A&&r===i,u=[];if(a){var c=l(e);c?(r=s,e=c):a=!1}for(;++n<o;){var f=t[n];r(e,f)<0&&u.push(f)}return a&&v(e),u}function oe(t,e,n,r){for(var o=(r||0)-1,i=t?t.length:0,s=[];++o<i;){var a=t[o];if(a&&"object"==typeof a&&"number"==typeof a.length&&(fo(a)||be(a))){e||(a=oe(a,e,n));var u=-1,c=a.length,l=s.length;for(s.length+=c;++u<c;)s[l++]=a[u]}else n||s.push(a)}return s}function se(t,e,n,r,o,i){if(n){var s=n(t,e);if("undefined"!=typeof s)return!!s}if(t===e)return 0!==t||1/t==1/e;var a=typeof t,u=typeof e;if(!(t!==t||t&&re[a]||e&&re[u]))return!1;if(null==t||null==e)return t===e;var c=Dr.call(t),l=Dr.call(e);if(c==F&&(c=X),l==F&&(l=X),c!=l)return!1;switch(c){case W:case J:return+t==+e;case K:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case Y:case Q:return t==Or(e)}var f=c==H;if(!f){var h=Hr.call(t,"__wrapped__"),v=Hr.call(e,"__wrapped__");if(h||v)return se(h?t.__wrapped__:t,v?e.__wrapped__:e,n,r,o,i);if(c!=X||!uo.nodeClass&&(d(t)||d(e)))return!1;var m=!uo.argsObject&&be(t)?Cr:t.constructor,y=!uo.argsObject&&be(e)?Cr:e.constructor;if(m!=y&&!(Be(m)&&m instanceof m&&Be(y)&&y instanceof y)&&"constructor"in t&&"constructor"in e)return!1}var b=!o;o||(o=p()),i||(i=p());for(var w=o.length;w--;)if(o[w]==t)return i[w]==e;var x=0;if(s=!0,o.push(t),i.push(e),f){if(w=t.length,x=e.length,s=x==w,s||r)for(;x--;){var j=w,_=e[x];if(r)for(;j--&&!(s=se(t[j],_,n,r,o,i)););else if(!(s=se(t[x],_,n,r,o,i)))break}}else ko(e,function(e,a,u){return Hr.call(u,a)?(x++,s=Hr.call(t,a)&&se(t[a],e,n,r,o,i)):void 0}),s&&!r&&ko(t,function(t,e,n){return Hr.call(n,e)?s=--x>-1:void 0});return o.pop(),i.pop(),b&&(g(o),g(i)),s}function ae(t,e,n,r,o){(fo(e)?rn:Ao)(e,function(e,i){var s,a,u=e,c=t[i];if(e&&((a=fo(e))||To(e))){for(var l=r.length;l--;)if(s=r[l]==e){c=o[l];break}if(!s){var f;n&&(u=n(c,e),(f="undefined"!=typeof u)&&(c=u)),f||(c=a?fo(c)?c:[]:To(c)?c:{}),r.push(e),o.push(c),f||ae(c,e,n,r,o)}}else n&&(u=n(c,e),"undefined"==typeof u&&(u=e)),"undefined"!=typeof u&&(c=u);t[i]=c})}function ue(t,e){return t+$r(io()*(e-t+1))}function le(t,e,n){var r=-1,o=ge(),a=t?t.length:0,u=[],c=!e&&a>=A&&o===i,f=n||c?p():u;if(c){var h=l(f);o=s,f=h}for(;++r<a;){var d=t[r],m=n?n(d,r,t):d;(e?!r||f[f.length-1]!==m:o(f,m)<0)&&((n||c)&&f.push(m),u.push(d))}return c?(g(f.array),v(f)):n&&g(f),u}function fe(t){return function(n,r,o){var i={};if(r=e.createCallback(r,o,3),fo(n))for(var s=-1,a=n.length;++s<a;){var u=n[s];t(i,u,r(u,s,n),n)}else jo(n,function(e,n,o){t(i,e,r(e,n,o),o)});return i}}function pe(t,e,n,o,i,s){var a=1&e,u=2&e,c=4&e,l=16&e,f=32&e;if(!u&&!Be(t))throw new Lr;l&&!n.length&&(e&=-17,l=n=!1),f&&!o.length&&(e&=-33,f=o=!1);var p=t&&t.__bindData__;if(p&&p!==!0)return p=m(p),p[2]&&(p[2]=m(p[2])),p[3]&&(p[3]=m(p[3])),!a||1&p[1]||(p[4]=i),!a&&1&p[1]&&(e|=8),!c||4&p[1]||(p[5]=s),l&&Wr.apply(p[2]||(p[2]=[]),n),f&&Kr.apply(p[3]||(p[3]=[]),o),p[1]|=e,pe.apply(null,p);var h=1==e||17===e?r:x;return h([t,e,n,o,i,s])}function he(){ne.shadowedProps=$,ne.array=ne.bottom=ne.loop=ne.top="",ne.init="iterable",ne.useHas=!0;for(var t,e=0;t=arguments[e];e++)for(var n in t)ne[n]=t[n];var r=ne.args;ne.firstArg=/^[^,]+/.exec(r)[0];var o=kr("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+r+") {\n"+co(ne)+"\n}");return o(w,G,Mr,Hr,_,be,fo,ze,ne.keys,Pr,re,ao,Q,Nr,Dr)}function de(t){return yo[t]}function ge(){var t=(t=e.indexOf)===kn?i:t;return t}function ve(t){return"function"==typeof t&&qr.test(t)}function me(t){var e,n;return!t||Dr.call(t)!=X||(e=t.constructor,Be(e)&&!(e instanceof e))||!uo.argsClass&&be(t)||!uo.nodeClass&&d(t)?!1:uo.ownLast?(ko(t,function(t,e,r){return n=Hr.call(r,e),!1}),n!==!1):(ko(t,function(t,e){n=e}),"undefined"==typeof n||Hr.call(t,n))}function ye(t){return bo[t]}function be(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Dr.call(t)==F||!1}function we(t,e,n,r){return"boolean"!=typeof e&&null!=e&&(r=n,n=e,e=!1),o(t,e,"function"==typeof n&&w(n,r,1))}function xe(t,e,n){return o(t,!0,"function"==typeof e&&w(e,n,1))}function je(t,e){var n=a(t);return e?_o(n,e):n}function _e(t,n,r){var o;return n=e.createCallback(n,r,3),Ao(t,function(t,e,r){return n(t,e,r)?(o=e,!1):void 0}),o}function Ee(t,n,r){var o;return n=e.createCallback(n,r,3),Ae(t,function(t,e,r){return n(t,e,r)?(o=e,!1):void 0}),o}function ke(t,e,n){var r=[];ko(t,function(t,e){r.push(e,t)});var o=r.length;for(e=w(e,n,3);o--&&e(r[o--],r[o],t)!==!1;);return t}function Ae(t,e,n){var r=ho(t),o=r.length;for(e=w(e,n,3);o--;){var i=r[o];if(e(t[i],i,t)===!1)break}return t}function Te(t){var e=[];return ko(t,function(t,n){Be(t)&&e.push(n)}),e.sort()}function Ce(t,e){return t?Hr.call(t,e):!1}function Se(t){for(var e=-1,n=ho(t),r=n.length,o={};++e<r;){var i=n[e];o[t[i]]=i}return o}function Oe(t){return t===!0||t===!1||t&&"object"==typeof t&&Dr.call(t)==W||!1}function Le(t){return t&&"object"==typeof t&&Dr.call(t)==J||!1}function Ie(t){return t&&1===t.nodeType||!1}function Me(t){var e=!0;if(!t)return e;var n=Dr.call(t),r=t.length;return n==H||n==Q||(uo.argsClass?n==F:be(t))||n==X&&"number"==typeof r&&Be(t.splice)?!r:(Ao(t,function(){return e=!1}),e)}function Pe(t,e,n,r){return se(t,e,"function"==typeof n&&w(n,r,2))}function Ne(t){return Zr(t)&&!to(parseFloat(t))}function Be(t){return"function"==typeof t}function De(t){return!(!t||!re[typeof t])}function qe(t){return Ue(t)&&t!=+t}function Re(t){return null===t}function Ue(t){return"number"==typeof t||t&&"object"==typeof t&&Dr.call(t)==K||!1}function $e(t){return t&&re[typeof t]&&Dr.call(t)==Y||!1}function ze(t){return"string"==typeof t||t&&"object"==typeof t&&Dr.call(t)==Q||!1}function Fe(t){return"undefined"==typeof t}function He(t,n,r){var o={};return n=e.createCallback(n,r,3),Ao(t,function(t,e,r){o[e]=n(t,e,r)}),o}function We(t){var e=arguments,n=2;if(!De(t))return t;if("number"!=typeof e[2]&&(n=e.length),n>3&&"function"==typeof e[n-2])var r=w(e[--n-1],e[n--],2);else n>2&&"function"==typeof e[n-1]&&(r=e[--n]);for(var o=m(arguments,1,n),i=-1,s=p(),a=p();++i<n;)ae(t,o[i],r,s,a);return g(s),g(a),t}function Je(t,n,r){var o={};if("function"!=typeof n){var i=[];ko(t,function(t,e){i.push(e)}),i=T(i,oe(arguments,!0,!1,1));for(var s=-1,a=i.length;++s<a;){var u=i[s];o[u]=t[u]}}else n=e.createCallback(n,r,3),ko(t,function(t,e,r){n(t,e,r)||(o[e]=t)});return o}function Ge(t){for(var e=-1,n=ho(t),r=n.length,o=xr(r);++e<r;){var i=n[e];o[e]=[i,t[i]]}return o}function Ve(t,n,r){var o={};if("function"!=typeof n)for(var i=-1,s=oe(arguments,!0,!1,1),a=De(t)?s.length:0;++i<a;){var u=s[i];u in t&&(o[u]=t[u])}else n=e.createCallback(n,r,3),ko(t,function(t,e,r){n(t,e,r)&&(o[e]=t)});return o}function Ke(t,n,r,o){var i=fo(t);if(null==r)if(i)r=[];else{var s=t&&t.constructor,u=s&&s.prototype;r=a(u)}return n&&(n=e.createCallback(n,o,4),(i?jo:Ao)(t,function(t,e,o){return n(r,t,e,o)})),r}function Xe(t){for(var e=-1,n=ho(t),r=n.length,o=xr(r);++e<r;)o[e]=t[n[e]];return o}function Ye(t){var e=arguments,n=-1,r=oe(e,!0,!1,1),o=e[2]&&e[2][e[1]]===t?1:r.length,i=xr(o);for(uo.unindexedChars&&ze(t)&&(t=t.split(""));++n<o;)i[n]=t[r[n]];return i}function Qe(t,e,n){var r=-1,o=ge(),i=t?t.length:0,s=!1;return n=(0>n?no(0,i+n):n)||0,fo(t)?s=o(t,e,n)>-1:"number"==typeof i?s=(ze(t)?t.indexOf(e,n):o(t,e,n))>-1:jo(t,function(t){return++r>=n?!(s=t===e):void 0}),s}function Ze(t,n,r){var o=!0;if(n=e.createCallback(n,r,3),fo(t))for(var i=-1,s=t.length;++i<s&&(o=!!n(t[i],i,t)););else jo(t,function(t,e,r){return o=!!n(t,e,r)});return o}function tn(t,n,r){var o=[];if(n=e.createCallback(n,r,3),fo(t))for(var i=-1,s=t.length;++i<s;){var a=t[i];n(a,i,t)&&o.push(a)}else jo(t,function(t,e,r){n(t,e,r)&&o.push(t)});return o}function en(t,n,r){if(n=e.createCallback(n,r,3),!fo(t)){var o;return jo(t,function(t,e,r){return n(t,e,r)?(o=t,!1):void 0}),o}for(var i=-1,s=t.length;++i<s;){var a=t[i];if(n(a,i,t))return a}}function nn(t,n,r){var o;return n=e.createCallback(n,r,3),on(t,function(t,e,r){return n(t,e,r)?(o=t,!1):void 0}),o}function rn(t,e,n){if(e&&"undefined"==typeof n&&fo(t))for(var r=-1,o=t.length;++r<o&&e(t[r],r,t)!==!1;);else jo(t,e,n);return t}function on(t,e,n){var r=t,o=t?t.length:0;if(e=e&&"undefined"==typeof n?e:w(e,n,3),fo(t))for(;o--&&e(t[o],o,t)!==!1;);else{if("number"!=typeof o){var i=ho(t);o=i.length}else uo.unindexedChars&&ze(t)&&(r=t.split(""));jo(t,function(t,n,s){return n=i?i[--o]:--o,e(r[n],n,s)})}return t}function sn(t,e){var n=m(arguments,2),r=-1,o="function"==typeof e,i=t?t.length:0,s=xr("number"==typeof i?i:0);return rn(t,function(t){s[++r]=(o?e:t[e]).apply(t,n)}),s}function an(t,n,r){var o=-1,i=t?t.length:0,s=xr("number"==typeof i?i:0);if(n=e.createCallback(n,r,3),fo(t))for(;++o<i;)s[o]=n(t[o],o,t);else jo(t,function(t,e,r){s[++o]=n(t,e,r)});return s}function un(t,n,r){var o=-1/0,i=o;if("function"!=typeof n&&r&&r[n]===t&&(n=null),null==n&&fo(t))for(var s=-1,a=t.length;++s<a;){var c=t[s];c>i&&(i=c)}else n=null==n&&ze(t)?u:e.createCallback(n,r,3),jo(t,function(t,e,r){var s=n(t,e,r);s>o&&(o=s,i=t)});return i}function cn(t,n,r){var o=1/0,i=o;if("function"!=typeof n&&r&&r[n]===t&&(n=null),null==n&&fo(t))for(var s=-1,a=t.length;++s<a;){var c=t[s];i>c&&(i=c)}else n=null==n&&ze(t)?u:e.createCallback(n,r,3),jo(t,function(t,e,r){var s=n(t,e,r);o>s&&(o=s,i=t)});return i}function ln(t,n,r,o){var i=arguments.length<3;if(n=e.createCallback(n,o,4),fo(t)){var s=-1,a=t.length;for(i&&(r=t[++s]);++s<a;)r=n(r,t[s],s,t)}else jo(t,function(t,e,o){r=i?(i=!1,t):n(r,t,e,o)});return r}function fn(t,n,r,o){var i=arguments.length<3;return n=e.createCallback(n,o,4),on(t,function(t,e,o){r=i?(i=!1,t):n(r,t,e,o)}),r}function pn(t,n,r){return n=e.createCallback(n,r,3),tn(t,function(t,e,r){return!n(t,e,r)})}function hn(t,e,n){if(t&&"number"!=typeof t.length?t=Xe(t):uo.unindexedChars&&ze(t)&&(t=t.split("")),null==e||n)return t?t[ue(0,t.length-1)]:b;var r=dn(t);return r.length=ro(no(0,e),r.length),r}function dn(t){var e=-1,n=t?t.length:0,r=xr("number"==typeof n?n:0);return rn(t,function(t){var n=ue(0,++e);r[e]=r[n],r[n]=t}),r}function gn(t){var e=t?t.length:0;return"number"==typeof e?e:ho(t).length}function vn(t,n,r){var o;if(n=e.createCallback(n,r,3),fo(t))for(var i=-1,s=t.length;++i<s&&!(o=n(t[i],i,t)););else jo(t,function(t,e,r){return!(o=n(t,e,r))});return!!o}function mn(t,n,r){var o=-1,i=fo(n),s=t?t.length:0,a=xr("number"==typeof s?s:0);for(i||(n=e.createCallback(n,r,3)),rn(t,function(t,e,r){var s=a[++o]=h();i?s.criteria=an(n,function(e){return t[e]}):(s.criteria=p())[0]=n(t,e,r),s.index=o,s.value=t}),s=a.length,a.sort(c);s--;){var u=a[s];a[s]=u.value,i||g(u.criteria),v(u)}return a}function yn(t){return t&&"number"==typeof t.length?uo.unindexedChars&&ze(t)?t.split(""):m(t):Xe(t)}function bn(t){for(var e=-1,n=t?t.length:0,r=[];++e<n;){var o=t[e];o&&r.push(o)}return r}function wn(t){return T(t,oe(arguments,!0,!0,1))}function xn(t,n,r){var o=-1,i=t?t.length:0;for(n=e.createCallback(n,r,3);++o<i;)if(n(t[o],o,t))return o;return-1}function jn(t,n,r){var o=t?t.length:0;for(n=e.createCallback(n,r,3);o--;)if(n(t[o],o,t))return o;return-1}function _n(t,n,r){var o=0,i=t?t.length:0;if("number"!=typeof n&&null!=n){var s=-1;for(n=e.createCallback(n,r,3);++s<i&&n(t[s],s,t);)o++}else if(o=n,null==o||r)return t?t[0]:b;return m(t,0,ro(no(0,o),i))}function En(t,e,n,r){return"boolean"!=typeof e&&null!=e&&(r=n,n="function"!=typeof e&&r&&r[e]===t?null:e,e=!1),null!=n&&(t=an(t,n,r)),oe(t,e)}function kn(t,e,n){if("number"==typeof n){var r=t?t.length:0;n=0>n?no(0,r+n):n||0}else if(n){var o=Pn(t,e);return t[o]===e?o:-1}return i(t,e,n)}function An(t,n,r){var o=0,i=t?t.length:0;if("number"!=typeof n&&null!=n){var s=i;for(n=e.createCallback(n,r,3);s--&&n(t[s],s,t);)o++}else o=null==n||r?1:n||o;return m(t,0,ro(no(0,i-o),i))}function Tn(){for(var t=[],e=-1,n=arguments.length,r=p(),o=ge(),a=o===i,u=p();++e<n;){var c=arguments[e];(fo(c)||be(c))&&(t.push(c),r.push(a&&c.length>=A&&l(e?t[e]:u)))}var f=t[0],h=-1,d=f?f.length:0,m=[];t:for(;++h<d;){var y=r[0];if(c=f[h],(y?s(y,c):o(u,c))<0){for(e=n,(y||u).push(c);--e;)if(y=r[e],(y?s(y,c):o(t[e],c))<0)continue t;m.push(c)}}for(;n--;)y=r[n],y&&v(y);return g(r),g(u),m}function Cn(t,n,r){var o=0,i=t?t.length:0;if("number"!=typeof n&&null!=n){var s=i;for(n=e.createCallback(n,r,3);s--&&n(t[s],s,t);)o++}else if(o=n,null==o||r)return t?t[i-1]:b;return m(t,no(0,i-o))}function Sn(t,e,n){var r=t?t.length:0;for("number"==typeof n&&(r=(0>n?no(0,r+n):ro(n,r-1))+1);r--;)if(t[r]===e)return r;return-1}function On(t){for(var e=arguments,n=0,r=e.length,o=t?t.length:0;++n<r;)for(var i=-1,s=e[n];++i<o;)t[i]===s&&(Vr.call(t,i--,1),o--);return t}function Ln(t,e,n){t=+t||0,n="number"==typeof n?n:+n||1,null==e&&(e=t,t=0);for(var r=-1,o=no(0,Rr((e-t)/(n||1))),i=xr(o);++r<o;)i[r]=t,t+=n;return i}function In(t,n,r){var o=-1,i=t?t.length:0,s=[];for(n=e.createCallback(n,r,3);++o<i;){var a=t[o];n(a,o,t)&&(s.push(a),Vr.call(t,o--,1),i--)}return s}function Mn(t,n,r){if("number"!=typeof n&&null!=n){var o=0,i=-1,s=t?t.length:0;for(n=e.createCallback(n,r,3);++i<s&&n(t[i],i,t);)o++}else o=null==n||r?1:no(0,n);return m(t,o)}function Pn(t,n,r,o){var i=0,s=t?t.length:i;for(r=r?e.createCallback(r,o,1):ir,n=r(n);s>i;){var a=i+s>>>1;r(t[a])<n?i=a+1:s=a}return i}function Nn(){return le(oe(arguments,!0,!0))}function Bn(t,n,r,o){return"boolean"!=typeof n&&null!=n&&(o=r,r="function"!=typeof n&&o&&o[n]===t?null:n,n=!1),null!=r&&(r=e.createCallback(r,o,3)),le(t,n,r)}function Dn(t){return T(t,m(arguments,1))}function qn(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(fo(n)||be(n))var r=r?le(T(r,n).concat(T(n,r))):n}return r||[]}function Rn(){for(var t=arguments.length>1?arguments:arguments[0],e=-1,n=t?un(Lo(t,"length")):0,r=xr(0>n?0:n);++e<n;)r[e]=Lo(t,e);return r}function Un(t,e){var n=-1,r=t?t.length:0,o={};for(e||!r||fo(t[0])||(e=[]);++n<r;){var i=t[n];e?o[i]=e[n]:i&&(o[i[0]]=i[1])}return o}function $n(t,e){if(!Be(e))throw new Lr;return function(){return--t<1?e.apply(this,arguments):void 0}}function zn(t,e){return arguments.length>2?pe(t,17,m(arguments,2),null,e):pe(t,1,null,null,e)}function Fn(t){for(var e=arguments.length>1?oe(arguments,!0,!1,1):Te(t),n=-1,r=e.length;++n<r;){var o=e[n];t[o]=pe(t[o],1,null,null,t)}return t}function Hn(t,e){return arguments.length>2?pe(e,19,m(arguments,2),null,t):pe(e,3,null,null,t)}function Wn(){for(var t=arguments,e=t.length;e--;)if(!Be(t[e]))throw new Lr;return function(){for(var e=arguments,n=t.length;n--;)e=[t[n].apply(this,e)];return e[0]}}function Jn(t,e){return e="number"==typeof e?e:+e||t.length,pe(t,4,null,null,null,e)}function Gn(t,e,n){var r,o,i,s,a,u,c,l=0,f=!1,p=!0;if(!Be(t))throw new Lr;if(e=no(0,e)||0,n===!0){var h=!0;p=!1}else De(n)&&(h=n.leading,f="maxWait"in n&&(no(e,n.maxWait)||0),p="trailing"in n?n.trailing:p);var d=function(){var n=e-(Mo()-s);if(0>=n){o&&Ur(o);var f=c;o=u=c=b,f&&(l=Mo(),i=t.apply(a,r),u||o||(r=a=null))}else u=Gr(d,n)},g=function(){u&&Ur(u),o=u=c=b,(p||f!==e)&&(l=Mo(),i=t.apply(a,r),u||o||(r=a=null))};return function(){if(r=arguments,s=Mo(),a=this,c=p&&(u||!h),f===!1)var n=h&&!u;else{o||h||(l=s);var v=f-(s-l),m=0>=v;m?(o&&(o=Ur(o)),l=s,i=t.apply(a,r)):o||(o=Gr(g,v))}return m&&u?u=Ur(u):u||e===f||(u=Gr(d,e)),n&&(m=!0,i=t.apply(a,r)),!m||u||o||(r=a=null),i}}function Vn(t){if(!Be(t))throw new Lr;var e=m(arguments,1);return Gr(function(){t.apply(b,e)},1)}function Kn(t,e){if(!Be(t))throw new Lr;var n=m(arguments,2);return Gr(function(){t.apply(b,n)},e)}function Xn(t,e){if(!Be(t))throw new Lr;var n=function(){var r=n.cache,o=e?e.apply(this,arguments):E+arguments[0];return Hr.call(r,o)?r[o]:r[o]=t.apply(this,arguments)};return n.cache={},n}function Yn(t){var e,n;if(!Be(t))throw new Lr;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}}function Qn(t){return pe(t,16,m(arguments,1))}function Zn(t){return pe(t,32,null,m(arguments,1))}function tr(t,e,n){var r=!0,o=!0;if(!Be(t))throw new Lr;return n===!1?r=!1:De(n)&&(r="leading"in n?n.leading:r,o="trailing"in n?n.trailing:o),te.leading=r,te.maxWait=e,te.trailing=o,Gn(t,e,te)}function er(t,e){return pe(e,16,[t])}function nr(t){return function(){return t}}function rr(t,e,n){var r=typeof t;if(null==t||"function"==r)return w(t,e,n);if("object"!=r)return cr(t);var o=ho(t),i=o[0],s=t[i];return 1!=o.length||s!==s||De(s)?function(e){for(var n=o.length,r=!1;n--&&(r=se(e[o[n]],t[o[n]],null,!0)););return r}:function(t){var e=t[i];return s===e&&(0!==s||1/s==1/e)}}function or(t){return null==t?"":Or(t).replace(xo,de)}function ir(t){return t}function sr(t,r,o){var i=!0,s=r&&Te(r);r&&(o||s.length)||(null==o&&(o=r),a=n,r=t,t=e,s=Te(r)),o===!1?i=!1:De(o)&&"chain"in o&&(i=o.chain);var a=t,u=Be(a);rn(s,function(e){var n=t[e]=r[e];u&&(a.prototype[e]=function(){var e=this.__chain__,r=this.__wrapped__,o=[r];Wr.apply(o,arguments);var s=n.apply(t,o);if(i||e){if(r===s&&De(s))return this;s=new a(s),s.__chain__=e}return s})})}function ar(){return t._=Br,this}function ur(){}function cr(t){return function(e){return e[t]}}function lr(t,e,n){var r=null==t,o=null==e;if(null==n&&("boolean"==typeof t&&o?(n=t,t=1):o||"boolean"!=typeof e||(n=e,o=!0)),r&&o&&(e=1),t=+t||0,o?(e=t,t=0):e=+e||0,n||t%1||e%1){var i=io();return ro(t+i*(e-t+parseFloat("1e-"+((i+"").length-1))),e)}return ue(t,e)}function fr(t,e){if(t){var n=t[e];return Be(n)?t[e]():n}}function pr(t,n,r){var o=e.templateSettings;t=Or(t||""),r=Eo({},r,o);var i,s=Eo({},r.imports,o.imports),a=ho(s),u=Xe(s),c=0,l=r.interpolate||D,p="__p += '",h=Sr((r.escape||D).source+"|"+l.source+"|"+(l===N?I:D).source+"|"+(r.evaluate||D).source+"|$","g");t.replace(h,function(e,n,r,o,s,a){return r||(r=o),p+=t.slice(c,a).replace(R,f),n&&(p+="' +\n__e("+n+") +\n'"),s&&(i=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=a+e.length,e}),p+="';\n";var d=r.variable,g=d;g||(d="obj",p="with ("+d+") {\n"+p+"\n}\n"),p=(i?p.replace(S,""):p).replace(O,"$1").replace(L,"$1;"),p="function("+d+") {\n"+(g?"":d+" || ("+d+" = {});\n")+"var __t, __p = '', __e = _.escape"+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v="\n/*\n//# sourceURL="+(r.sourceURL||"/lodash/template/source["+z++ +"]")+"\n*/";try{var m=kr(a,"return "+p+v).apply(b,u)}catch(y){throw y.source=p,y}return n?m(n):(m.source=p,m)}function hr(t,e,n){t=(t=+t)>-1?t:0;var r=-1,o=xr(t);for(e=w(e,n,1);++r<t;)o[r]=e(r);return o}function dr(t){return null==t?"":Or(t).replace(wo,ye)}function gr(t){var e=++j;return Or(null==t?"":t)+e}function vr(t){return t=new n(t),t.__chain__=!0,t}function mr(t,e){return e(t),t}function yr(){return this.__chain__=!0,this}function br(){return Or(this.__wrapped__)}function wr(){return this.__wrapped__}t=t?ce.defaults(ie.Object(),t,ce.pick(ie,U)):ie;var xr=t.Array,jr=t.Boolean,_r=t.Date,Er=t.Error,kr=t.Function,Ar=t.Math,Tr=t.Number,Cr=t.Object,Sr=t.RegExp,Or=t.String,Lr=t.TypeError,Ir=[],Mr=Er.prototype,Pr=Cr.prototype,Nr=Or.prototype,Br=t._,Dr=Pr.toString,qr=Sr("^"+Or(Dr).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Rr=Ar.ceil,Ur=t.clearTimeout,$r=Ar.floor,zr=kr.prototype.toString,Fr=ve(Fr=Cr.getPrototypeOf)&&Fr,Hr=Pr.hasOwnProperty,Wr=Ir.push,Jr=Pr.propertyIsEnumerable,Gr=t.setTimeout,Vr=Ir.splice,Kr=Ir.unshift,Xr=function(){try{var t={},e=ve(e=Cr.defineProperty)&&e,n=e(t,t,t)&&e}catch(r){}return n}(),Yr=ve(Yr=Cr.create)&&Yr,Qr=ve(Qr=xr.isArray)&&Qr,Zr=t.isFinite,to=t.isNaN,eo=ve(eo=Cr.keys)&&eo,no=Ar.max,ro=Ar.min,oo=t.parseInt,io=Ar.random,so={};so[H]=xr,so[W]=jr,so[J]=_r,so[V]=kr,so[X]=Cr,so[K]=Tr,so[Y]=Sr,so[Q]=Or;var ao={};ao[H]=ao[J]=ao[K]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},ao[W]=ao[Q]={constructor:!0,toString:!0,valueOf:!0},ao[G]=ao[V]=ao[Y]={constructor:!0,toString:!0},ao[X]={constructor:!0},function(){for(var t=$.length;t--;){var e=$[t];for(var n in ao)Hr.call(ao,n)&&!Hr.call(ao[n],e)&&(ao[n][e]=!1)}}(),n.prototype=e.prototype;var uo=e.support={};!function(){var e=function(){this.x=1},n={0:1,length:1},r=[];e.prototype={valueOf:1,y:1};for(var o in new e)r.push(o);for(o in arguments);uo.argsClass=Dr.call(arguments)==F,uo.argsObject=arguments.constructor==Cr&&!(arguments instanceof xr),uo.enumErrorProps=Jr.call(Mr,"message")||Jr.call(Mr,"name"),uo.enumPrototypes=Jr.call(e,"prototype"),uo.funcDecomp=!ve(t.WinRTError)&&q.test(y),uo.funcNames="string"==typeof kr.name,uo.nonEnumArgs=0!=o,uo.nonEnumShadows=!/valueOf/.test(r),uo.ownLast="x"!=r[0],uo.spliceObjects=(Ir.splice.call(n,0,1),!n[0]),uo.unindexedChars="x"[0]+Cr("x")[0]!="xx";try{uo.nodeClass=!(Dr.call(document)==X&&!({toString:0}+""))}catch(i){uo.nodeClass=!0}}(1),e.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:N,variable:"",imports:{_:e}};var co=function(t){var e="var index, iterable = "+t.firstArg+", result = "+t.init+";\nif (!iterable) return result;\n"+t.top+";";t.array?(e+="\nvar length = iterable.length; index = -1;\nif ("+t.array+") {  ",uo.unindexedChars&&(e+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),e+="\n  while (++index < length) {\n    "+t.loop+";\n  }\n}\nelse {  "):uo.nonEnumArgs&&(e+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+t.loop+";\n    }\n  } else {  "),uo.enumPrototypes&&(e+="\n  var skipProto = typeof iterable == 'function';\n  "),uo.enumErrorProps&&(e+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var n=[];if(uo.enumPrototypes&&n.push('!(skipProto && index == "prototype")'),uo.enumErrorProps&&n.push('!(skipErrorProps && (index == "message" || index == "name"))'),t.useHas&&t.keys)e+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",n.length&&(e+="    if ("+n.join(" && ")+") {\n  "),e+=t.loop+";    ",n.length&&(e+="\n    }"),e+="\n  }  ";else if(e+="\n  for (index in iterable) {\n",t.useHas&&n.push("hasOwnProperty.call(iterable, index)"),n.length&&(e+="    if ("+n.join(" && ")+") {\n  "),e+=t.loop+";    ",n.length&&(e+="\n    }"),e+="\n  }    ",uo.nonEnumShadows){for(e+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;7>k;k++)e+="\n    index = '"+t.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",t.useHas||(e+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),e+=") {\n      "+t.loop+";\n    }      ";
e+="\n  }    "}return(t.array||uo.nonEnumArgs)&&(e+="\n}"),e+=t.bottom+";\nreturn result"};Yr||(a=function(){function e(){}return function(n){if(De(n)){e.prototype=n;var r=new e;e.prototype=null}return r||t.Object()}}());var lo=Xr?function(t,e){ee.value=e,Xr(t,"__bindData__",ee)}:ur;uo.argsClass||(be=function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Hr.call(t,"callee")&&!Jr.call(t,"callee")||!1});var fo=Qr||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Dr.call(t)==H||!1},po=he({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),ho=eo?function(t){return De(t)?uo.enumPrototypes&&"function"==typeof t||uo.nonEnumArgs&&t.length&&be(t)?po(t):eo(t):[]}:po,go={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:ho,loop:"if (callback(iterable[index], index, collection) === false) return result"},vo={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:ho,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},mo={top:"if (!objectTypes[typeof iterable]) return result;\n"+go.top,array:!1},yo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bo=Se(yo),wo=Sr("("+ho(bo).join("|")+")","g"),xo=Sr("["+ho(yo).join("")+"]","g"),jo=he(go),_o=he(vo,{top:vo.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),Eo=he(vo),ko=he(go,mo,{useHas:!1}),Ao=he(go,mo);Be(/x/)&&(Be=function(t){return"function"==typeof t&&Dr.call(t)==V});var To=Fr?function(t){if(!t||Dr.call(t)!=X||!uo.argsClass&&be(t))return!1;var e=t.valueOf,n=ve(e)&&(n=Fr(e))&&Fr(n);return n?t==n||Fr(t)==n:me(t)}:me,Co=fe(function(t,e,n){Hr.call(t,n)?t[n]++:t[n]=1}),So=fe(function(t,e,n){(Hr.call(t,n)?t[n]:t[n]=[]).push(e)}),Oo=fe(function(t,e,n){t[n]=e}),Lo=an,Io=tn,Mo=ve(Mo=_r.now)&&Mo||function(){return(new _r).getTime()},Po=8==oo(C+"08")?oo:function(t,e){return oo(ze(t)?t.replace(B,""):t,e||0)};return e.after=$n,e.assign=_o,e.at=Ye,e.bind=zn,e.bindAll=Fn,e.bindKey=Hn,e.chain=vr,e.compact=bn,e.compose=Wn,e.constant=nr,e.countBy=Co,e.create=je,e.createCallback=rr,e.curry=Jn,e.debounce=Gn,e.defaults=Eo,e.defer=Vn,e.delay=Kn,e.difference=wn,e.filter=tn,e.flatten=En,e.forEach=rn,e.forEachRight=on,e.forIn=ko,e.forInRight=ke,e.forOwn=Ao,e.forOwnRight=Ae,e.functions=Te,e.groupBy=So,e.indexBy=Oo,e.initial=An,e.intersection=Tn,e.invert=Se,e.invoke=sn,e.keys=ho,e.map=an,e.mapValues=He,e.max=un,e.memoize=Xn,e.merge=We,e.min=cn,e.omit=Je,e.once=Yn,e.pairs=Ge,e.partial=Qn,e.partialRight=Zn,e.pick=Ve,e.pluck=Lo,e.property=cr,e.pull=On,e.range=Ln,e.reject=pn,e.remove=In,e.rest=Mn,e.shuffle=dn,e.sortBy=mn,e.tap=mr,e.throttle=tr,e.times=hr,e.toArray=yn,e.transform=Ke,e.union=Nn,e.uniq=Bn,e.values=Xe,e.where=Io,e.without=Dn,e.wrap=er,e.xor=qn,e.zip=Rn,e.zipObject=Un,e.collect=an,e.drop=Mn,e.each=rn,e.eachRight=on,e.extend=_o,e.methods=Te,e.object=Un,e.select=tn,e.tail=Mn,e.unique=Bn,e.unzip=Rn,sr(e),e.clone=we,e.cloneDeep=xe,e.contains=Qe,e.escape=or,e.every=Ze,e.find=en,e.findIndex=xn,e.findKey=_e,e.findLast=nn,e.findLastIndex=jn,e.findLastKey=Ee,e.has=Ce,e.identity=ir,e.indexOf=kn,e.isArguments=be,e.isArray=fo,e.isBoolean=Oe,e.isDate=Le,e.isElement=Ie,e.isEmpty=Me,e.isEqual=Pe,e.isFinite=Ne,e.isFunction=Be,e.isNaN=qe,e.isNull=Re,e.isNumber=Ue,e.isObject=De,e.isPlainObject=To,e.isRegExp=$e,e.isString=ze,e.isUndefined=Fe,e.lastIndexOf=Sn,e.mixin=sr,e.noConflict=ar,e.noop=ur,e.now=Mo,e.parseInt=Po,e.random=lr,e.reduce=ln,e.reduceRight=fn,e.result=fr,e.runInContext=y,e.size=gn,e.some=vn,e.sortedIndex=Pn,e.template=pr,e.unescape=dr,e.uniqueId=gr,e.all=Ze,e.any=vn,e.detect=en,e.findWhere=en,e.foldl=ln,e.foldr=fn,e.include=Qe,e.inject=ln,sr(function(){var t={};return Ao(e,function(n,r){e.prototype[r]||(t[r]=n)}),t}(),!1),e.first=_n,e.last=Cn,e.sample=hn,e.take=_n,e.head=_n,Ao(e,function(t,r){var o="sample"!==r;e.prototype[r]||(e.prototype[r]=function(e,r){var i=this.__chain__,s=t(this.__wrapped__,e,r);return i||null!=e&&(!r||o&&"function"==typeof e)?new n(s,i):s})}),e.VERSION="2.4.1",e.prototype.chain=yr,e.prototype.toString=br,e.prototype.value=wr,e.prototype.valueOf=wr,jo(["join","pop","shift"],function(t){var r=Ir[t];e.prototype[t]=function(){var t=this.__chain__,e=r.apply(this.__wrapped__,arguments);return t?new n(e,t):e}}),jo(["push","reverse","sort","unshift"],function(t){var n=Ir[t];e.prototype[t]=function(){return n.apply(this.__wrapped__,arguments),this}}),jo(["concat","slice","splice"],function(t){var r=Ir[t];e.prototype[t]=function(){return new n(r.apply(this.__wrapped__,arguments),this.__chain__)}}),uo.spliceObjects||jo(["pop","shift","splice"],function(t){var r=Ir[t],o="splice"==t;e.prototype[t]=function(){var t=this.__chain__,e=this.__wrapped__,i=r.apply(e,arguments);return 0===e.length&&delete e[0],t||o?new n(i,t):i}}),e}var b,w=[],x=[],j=0,_={},E=+new Date+"",A=75,T=40,C=" 	\fÂ ï»¿\n\r\u2028\u2029áá ââââââââââââ¯âã",S=/\b__p \+= '';/g,O=/\b(__p \+=) '' \+/g,L=/(__e\(.*?\)|\b__t\)) \+\n'';/g,I=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,M=/\w*$/,P=/^\s*function[ \n\r\t]+\w/,N=/<%=([\s\S]+?)%>/g,B=RegExp("^["+C+"]*0+(?=.$)"),D=/($^)/,q=/\bthis\b/,R=/['\n\r\t\u2028\u2029\\]/g,U=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],$=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],z=0,F="[object Arguments]",H="[object Array]",W="[object Boolean]",J="[object Date]",G="[object Error]",V="[object Function]",K="[object Number]",X="[object Object]",Y="[object RegExp]",Q="[object String]",Z={};Z[V]=!1,Z[F]=Z[H]=Z[W]=Z[J]=Z[K]=Z[X]=Z[Y]=Z[Q]=!0;var te={leading:!1,maxWait:0,trailing:!1},ee={configurable:!1,enumerable:!1,value:null,writable:!1},ne={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},re={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},oe={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},ie=re[typeof window]&&window||this,se=re[typeof e]&&e&&!e.nodeType&&e,ae=re[typeof t]&&t&&!t.nodeType&&t,ue=(ae&&ae.exports===se&&se,re[typeof o]&&o);!ue||ue.global!==ue&&ue.window!==ue||(ie=ue);var ce=y();ie._=ce,r=function(){return ce}.call(e,n,e,t),!(r!==b&&(t.exports=r))}).call(this)}).call(e,n(40)(t),function(){return this}())},function(t,e,n){(function(t,e,n){!function(){function t(e){var n=t.resolve(e),r=t.modules[n];if(!r)throw new Error('failed to require "'+e+'"');return r.exports||(r.exports={},r.call(r.exports,r,r.exports,t.relative(n))),r.exports}function e(){for(var t=(new o).getTime();p.length&&(new o).getTime()-t<100;)p.shift()();f=p.length?i(e,0):null}t.modules={},t.resolve=function(e){var n=e,r=e+".js",o=e+"/index.js";return t.modules[r]&&r||t.modules[o]&&o||n},t.register=function(e,n){t.modules[e]=n},t.relative=function(e){return function(n){if("."!=n.charAt(0))return t(n);var r=e.split("/"),o=n.split("/");r.pop();for(var i=0;i<o.length;i++){var s=o[i];".."==s?r.pop():"."!=s&&r.push(s)}return t(r.join("/"))}},t.register("browser/debug.js",function(t){t.exports=function(){return function(){}}}),t.register("browser/diff.js",function(t){var e=function(){function t(t){return{newPos:t.newPos,components:t.components.slice(0)}}function e(t){for(var e=[],n=0;n<t.length;n++)t[n]&&e.push(t[n]);return e}function n(t){var e=t;return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;")}var r=function(t){this.ignoreWhitespace=t};r.prototype={diff:function(e,n){if(n===e)return[{value:n}];if(!n)return[{value:e,removed:!0}];if(!e)return[{value:n,added:!0}];n=this.tokenize(n),e=this.tokenize(e);var r=n.length,o=e.length,i=r+o,s=[{newPos:-1,components:[]}],a=this.extractCommon(s[0],n,e,0);if(s[0].newPos+1>=r&&a+1>=o)return s[0].components;for(var u=1;i>=u;u++)for(var c=-1*u;u>=c;c+=2){var l,f=s[c-1],p=s[c+1];a=(p?p.newPos:0)-c,f&&(s[c-1]=void 0);var h=f&&f.newPos+1<r,d=p&&a>=0&&o>a;if(h||d){!h||d&&f.newPos<p.newPos?(l=t(p),this.pushComponent(l.components,e[a],void 0,!0)):(l=t(f),l.newPos++,this.pushComponent(l.components,n[l.newPos],!0,void 0));var a=this.extractCommon(l,n,e,c);if(l.newPos+1>=r&&a+1>=o)return l.components;s[c]=l}else s[c]=void 0}},pushComponent:function(t,e,n,r){var o=t[t.length-1];o&&o.added===n&&o.removed===r?t[t.length-1]={value:this.join(o.value,e),added:n,removed:r}:t.push({value:e,added:n,removed:r})},extractCommon:function(t,e,n,r){for(var o=e.length,i=n.length,s=t.newPos,a=s-r;o>s+1&&i>a+1&&this.equals(e[s+1],n[a+1]);)s++,a++,this.pushComponent(t.components,e[s],void 0,void 0);return t.newPos=s,a},equals:function(t,e){var n=/\S/;return!this.ignoreWhitespace||n.test(t)||n.test(e)?t===e:!0},join:function(t,e){return t+e},tokenize:function(t){return t}};var o=new r,i=new r(!0),s=new r;i.tokenize=s.tokenize=function(t){return e(t.split(/(\s+|\b)/))};var a=new r(!0);a.tokenize=function(t){return e(t.split(/([{}:;,]|\s+)/))};var u=new r;return u.tokenize=function(t){return t.split(/^/m)},{Diff:r,diffChars:function(t,e){return o.diff(t,e)},diffWords:function(t,e){return i.diff(t,e)},diffWordsWithSpace:function(t,e){return s.diff(t,e)},diffLines:function(t,e){return u.diff(t,e)},diffCss:function(t,e){return a.diff(t,e)},createPatch:function(t,e,n,r,o){function i(t){return t.map(function(t){return" "+t})}function s(t,e,n){var r=c[c.length-2],o=e===c.length-2,i=e===c.length-3&&(n.added!==r.added||n.removed!==r.removed);/\n$/.test(n.value)||!o&&!i||t.push("\\ No newline at end of file")}var a=[];a.push("Index: "+t),a.push("==================================================================="),a.push("--- "+t+("undefined"==typeof r?"":"	"+r)),a.push("+++ "+t+("undefined"==typeof o?"":"	"+o));var c=u.diff(e,n);c[c.length-1].value||c.pop(),c.push({value:"",lines:[]});for(var l=0,f=0,p=[],h=1,d=1,g=0;g<c.length;g++){var v=c[g],m=v.lines||v.value.replace(/\n$/,"").split("\n");if(v.lines=m,v.added||v.removed){if(!l){var y=c[g-1];l=h,f=d,y&&(p=i(y.lines.slice(-4)),l-=p.length,f-=p.length)}p.push.apply(p,m.map(function(t){return(v.added?"+":"-")+t})),s(p,g,v),v.added?d+=m.length:h+=m.length}else{if(l)if(m.length<=8&&g<c.length-2)p.push.apply(p,i(m));else{var b=Math.min(m.length,4);a.push("@@ -"+l+","+(h-l+b)+" +"+f+","+(d-f+b)+" @@"),a.push.apply(a,p),a.push.apply(a,i(m.slice(0,b))),m.length<=4&&s(a,g,v),l=0,f=0,p=[]}h+=m.length,d+=m.length}}return a.join("\n")+"\n"},applyPatch:function(t,e){for(var n=e.split("\n"),r=[],o=!1,i=!1,s="I"===n[0][0]?4:0;s<n.length;s++)if("@"===n[s][0]){var a=n[s].split(/@@ -(\d+),(\d+) \+(\d+),(\d+) @@/);r.unshift({start:a[3],oldlength:a[2],oldlines:[],newlength:a[4],newlines:[]})}else"+"===n[s][0]?r[0].newlines.push(n[s].substr(1)):"-"===n[s][0]?r[0].oldlines.push(n[s].substr(1)):" "===n[s][0]?(r[0].newlines.push(n[s].substr(1)),r[0].oldlines.push(n[s].substr(1))):"\\"===n[s][0]&&("+"===n[s-1][0]?o=!0:"-"===n[s-1][0]&&(i=!0));for(var u=t.split("\n"),s=r.length-1;s>=0;s--){for(var c=r[s],l=0;l<c.oldlength;l++)if(u[c.start-1+l]!==c.oldlines[l])return!1;Array.prototype.splice.apply(u,[c.start-1,+c.oldlength].concat(c.newlines))}if(o)for(;!u[u.length-1];)u.pop();else i&&u.push("");return u.join("\n")},convertChangesToXML:function(t){for(var e=[],r=0;r<t.length;r++){var o=t[r];o.added?e.push("<ins>"):o.removed&&e.push("<del>"),e.push(n(o.value)),o.added?e.push("</ins>"):o.removed&&e.push("</del>")}return e.join("")},convertChangesToDMP:function(t){for(var e,n=[],r=0;r<t.length;r++)e=t[r],n.push([e.added?1:e.removed?-1:0,e.value]);return n}}}();t.exports=e}),t.register("browser/events.js",function(t,e){function n(t){return"[object Array]"=={}.toString.call(t)}function r(){}e.EventEmitter=r,r.prototype.on=function(t,e){return this.$events||(this.$events={}),this.$events[t]?n(this.$events[t])?this.$events[t].push(e):this.$events[t]=[this.$events[t],e]:this.$events[t]=e,this},r.prototype.addListener=r.prototype.on,r.prototype.once=function(t,e){function n(){r.removeListener(t,n),e.apply(this,arguments)}var r=this;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){if(this.$events&&this.$events[t]){var r=this.$events[t];if(n(r)){for(var o=-1,i=0,s=r.length;s>i;i++)if(r[i]===e||r[i].listener&&r[i].listener===e){o=i;break}if(0>o)return this;r.splice(o,1),r.length||delete this.$events[t]}else(r===e||r.listener&&r.listener===e)&&delete this.$events[t]}return this},r.prototype.removeAllListeners=function(t){return void 0===t?(this.$events={},this):(this.$events&&this.$events[t]&&(this.$events[t]=null),this)},r.prototype.listeners=function(t){return this.$events||(this.$events={}),this.$events[t]||(this.$events[t]=[]),n(this.$events[t])||(this.$events[t]=[this.$events[t]]),this.$events[t]},r.prototype.emit=function(t){if(!this.$events)return!1;var e=this.$events[t];if(!e)return!1;var r=[].slice.call(arguments,1);if("function"==typeof e)e.apply(this,r);else{if(!n(e))return!1;for(var o=e.slice(),i=0,s=o.length;s>i;i++)o[i].apply(this,r)}return!0}}),t.register("browser/fs.js",function(){}),t.register("browser/path.js",function(){}),t.register("browser/progress.js",function(t){function e(){this.percent=0,this.size(0),this.fontSize(11),this.font("helvetica, arial, sans-serif")}t.exports=e,e.prototype.size=function(t){return this._size=t,this},e.prototype.text=function(t){return this._text=t,this},e.prototype.fontSize=function(t){return this._fontSize=t,this},e.prototype.font=function(t){return this._font=t,this},e.prototype.update=function(t){return this.percent=t,this},e.prototype.draw=function(t){try{var e=Math.min(this.percent,100),n=this._size,r=n/2,o=r,i=r,s=r-1,a=this._fontSize;t.font=a+"px "+this._font;var u=2*Math.PI*(e/100);t.clearRect(0,0,n,n),t.strokeStyle="#9f9f9f",t.beginPath(),t.arc(o,i,s,0,u,!1),t.stroke(),t.strokeStyle="#eee",t.beginPath(),t.arc(o,i,s-1,0,u,!0),t.stroke();var c=this._text||(0|e)+"%",l=t.measureText(c).width;t.fillText(c,o-l/2+1,i+a/2-1)}catch(f){}return this}}),t.register("browser/tty.js",function(t,e){e.isatty=function(){return!0},e.getWindowSize=function(){return"innerHeight"in r?[r.innerHeight,r.innerWidth]:[640,480]}}),t.register("context.js",function(t){function e(){}t.exports=e,e.prototype.runnable=function(t){return 0==arguments.length?this._runnable:(this.test=this._runnable=t,this)},e.prototype.timeout=function(t){return 0===arguments.length?this.runnable().timeout():(this.runnable().timeout(t),this)},e.prototype.enableTimeouts=function(t){return this.runnable().enableTimeouts(t),this},e.prototype.slow=function(t){return this.runnable().slow(t),this},e.prototype.inspect=function(){return JSON.stringify(this,function(t,e){return"_runnable"!=t&&"test"!=t?e:void 0},2)}}),t.register("hook.js",function(t,e,n){function r(t,e){i.call(this,t,e),this.type="hook"}function o(){}var i=n("./runnable");t.exports=r,o.prototype=i.prototype,r.prototype=new o,r.prototype.constructor=r,r.prototype.error=function(t){if(0==arguments.length){var t=this._error;return this._error=null,t}this._error=t}}),t.register("interfaces/bdd.js",function(t,e,n){var r=n("../suite"),o=n("../test"),i=n("../utils");t.exports=function(t){var e=[t];t.on("pre-require",function(t,n,s){t.before=function(t,n){e[0].beforeAll(t,n)},t.after=function(t,n){e[0].afterAll(t,n)},t.beforeEach=function(t,n){e[0].beforeEach(t,n)},t.afterEach=function(t,n){e[0].afterEach(t,n)},t.describe=t.context=function(t,o){var i=r.create(e[0],t);return i.file=n,e.unshift(i),o.call(i),e.shift(),i},t.xdescribe=t.xcontext=t.describe.skip=function(t,n){var o=r.create(e[0],t);o.pending=!0,e.unshift(o),n.call(o),e.shift()},t.describe.only=function(e,n){var r=t.describe(e,n);return s.grep(r.fullTitle()),r},t.it=t.specify=function(t,r){var i=e[0];if(i.pending)var r=null;var s=new o(t,r);return s.file=n,i.addTest(s),s},t.it.only=function(e,n){var r=t.it(e,n),o="^"+i.escapeRegexp(r.fullTitle())+"$";return s.grep(new RegExp(o)),r},t.xit=t.xspecify=t.it.skip=function(e){t.it(e)}})}}),t.register("interfaces/exports.js",function(t,e,n){var r=n("../suite"),o=n("../test");t.exports=function(t){function e(t,i){var s;for(var a in t)if("function"==typeof t[a]){var u=t[a];switch(a){case"before":n[0].beforeAll(u);break;case"after":n[0].afterAll(u);break;case"beforeEach":n[0].beforeEach(u);break;case"afterEach":n[0].afterEach(u);break;default:var c=new o(a,u);c.file=i,n[0].addTest(c)}}else{var s=r.create(n[0],a);n.unshift(s),e(t[a]),n.shift()}}var n=[t];t.on("require",e)}}),t.register("interfaces/index.js",function(t,e,n){e.bdd=n("./bdd"),e.tdd=n("./tdd"),e.qunit=n("./qunit"),e.exports=n("./exports")}),t.register("interfaces/qunit.js",function(t,e,n){var r=n("../suite"),o=n("../test"),i=n("../utils");t.exports=function(t){var e=[t];t.on("pre-require",function(t,n,s){t.before=function(t,n){e[0].beforeAll(t,n)},t.after=function(t,n){e[0].afterAll(t,n)},t.beforeEach=function(t,n){e[0].beforeEach(t,n)},t.afterEach=function(t,n){e[0].afterEach(t,n)},t.suite=function(t){e.length>1&&e.shift();var o=r.create(e[0],t);return o.file=n,e.unshift(o),o},t.suite.only=function(e,n){var r=t.suite(e,n);s.grep(r.fullTitle())},t.test=function(t,r){var i=new o(t,r);return i.file=n,e[0].addTest(i),i},t.test.only=function(e,n){var r=t.test(e,n),o="^"+i.escapeRegexp(r.fullTitle())+"$";s.grep(new RegExp(o))},t.test.skip=function(e){t.test(e)}})}}),t.register("interfaces/tdd.js",function(t,e,n){var r=n("../suite"),o=n("../test"),i=n("../utils");t.exports=function(t){var e=[t];t.on("pre-require",function(t,n,s){t.setup=function(t,n){e[0].beforeEach(t,n)},t.teardown=function(t,n){e[0].afterEach(t,n)},t.suiteSetup=function(t,n){e[0].beforeAll(t,n)},t.suiteTeardown=function(t,n){e[0].afterAll(t,n)},t.suite=function(t,o){var i=r.create(e[0],t);return i.file=n,e.unshift(i),o.call(i),e.shift(),i},t.suite.skip=function(t,n){var o=r.create(e[0],t);o.pending=!0,e.unshift(o),n.call(o),e.shift()},t.suite.only=function(e,n){var r=t.suite(e,n);s.grep(r.fullTitle())},t.test=function(t,r){var i=e[0];if(i.pending)var r=null;var s=new o(t,r);return s.file=n,i.addTest(s),s},t.test.only=function(e,n){var r=t.test(e,n),o="^"+i.escapeRegexp(r.fullTitle())+"$";s.grep(new RegExp(o))},t.test.skip=function(e){t.test(e)}})}}),t.register("mocha.js",function(t,e,o){function i(t){return n+"/../images/"+t+".png"}function a(t){t=t||{},this.files=[],this.options=t,this.grep(t.grep),this.suite=new e.Suite("",new e.Context),this.ui(t.ui),this.bail(t.bail),this.reporter(t.reporter),null!=t.timeout&&this.timeout(t.timeout),this.useColors(t.useColors),null!==t.enableTimeouts&&this.enableTimeouts(t.enableTimeouts),t.slow&&this.slow(t.slow),this.suite.on("pre-require",function(t){e.afterEach=t.afterEach||t.teardown,e.after=t.after||t.suiteTeardown,e.beforeEach=t.beforeEach||t.setup,e.before=t.before||t.suiteSetup,e.describe=t.describe||t.suite,e.it=t.it||t.test,e.setup=t.setup||t.beforeEach,e.suiteSetup=t.suiteSetup||t.before,e.suiteTeardown=t.suiteTeardown||t.after,e.suite=t.suite||t.describe,e.teardown=t.teardown||t.afterEach,e.test=t.test||t.it})}/*!
	 * mocha
	 * Copyright(c) 2011 TJ Holowaychuk <tj@vision-media.ca>
	 * MIT Licensed
	 */
var u=o("browser/path"),c=o("./utils");if(e=t.exports=a,"undefined"!=typeof s&&"function"==typeof s.cwd){var l=u.join,f=s.cwd();t.paths.push(f,l(f,"node_modules"))}e.utils=c,e.interfaces=o("./interfaces"),e.reporters=o("./reporters"),e.Runnable=o("./runnable"),e.Context=o("./context"),e.Runner=o("./runner"),e.Suite=o("./suite"),e.Hook=o("./hook"),e.Test=o("./test"),a.prototype.bail=function(t){return 0==arguments.length&&(t=!0),this.suite.bail(t),this},a.prototype.addFile=function(t){return this.files.push(t),this},a.prototype.reporter=function(t){if("function"==typeof t)this._reporter=t;else{t=t||"spec";var e;try{e=o("./reporters/"+t)}catch(n){}if(!e)try{e=o(t)}catch(n){}if(e||"teamcity"!==t||console.warn("The Teamcity reporter was moved to a package named mocha-teamcity-reporter (https://npmjs.org/package/mocha-teamcity-reporter)."),!e)throw new Error('invalid reporter "'+t+'"');this._reporter=e}return this},a.prototype.ui=function(t){if(t=t||"bdd",this._ui=e.interfaces[t],!this._ui)try{this._ui=o(t)}catch(n){}if(!this._ui)throw new Error('invalid interface "'+t+'"');return this._ui=this._ui(this.suite),this},a.prototype.loadFiles=function(t){var e=this,n=this.suite,i=this.files.length;this.files.forEach(function(s){s=u.resolve(s),n.emit("pre-require",r,s,e),n.emit("require",o(s),s,e),n.emit("post-require",r,s,e),--i||t&&t()})},a.prototype._growl=function(t,e){var n=o("growl");t.on("end",function(){var r=e.stats;if(r.failures){var o=r.failures+" of "+t.total+" tests failed";n(o,{name:"mocha",title:"Failed",image:i("error")})}else n(r.passes+" tests passed in "+r.duration+"ms",{name:"mocha",title:"Passed",image:i("ok")})})},a.prototype.grep=function(t){return this.options.grep="string"==typeof t?new RegExp(c.escapeRegexp(t)):t,this},a.prototype.invert=function(){return this.options.invert=!0,this},a.prototype.ignoreLeaks=function(t){return this.options.ignoreLeaks=!!t,this},a.prototype.checkLeaks=function(){return this.options.ignoreLeaks=!1,this},a.prototype.growl=function(){return this.options.growl=!0,this},a.prototype.globals=function(t){return this.options.globals=(this.options.globals||[]).concat(t),this},a.prototype.useColors=function(t){return this.options.useColors=arguments.length&&void 0!=t?t:!0,this},a.prototype.useInlineDiffs=function(t){return this.options.useInlineDiffs=arguments.length&&void 0!=t?t:!1,this},a.prototype.timeout=function(t){return this.suite.timeout(t),this},a.prototype.slow=function(t){return this.suite.slow(t),this},a.prototype.enableTimeouts=function(t){return this.suite.enableTimeouts(arguments.length&&void 0!==t?t:!0),this},a.prototype.asyncOnly=function(){return this.options.asyncOnly=!0,this},a.prototype.run=function(t){this.files.length&&this.loadFiles();var n=this.suite,r=this.options;r.files=this.files;var o=new e.Runner(n),i=new this._reporter(o,r);return o.ignoreLeaks=!1!==r.ignoreLeaks,o.asyncOnly=r.asyncOnly,r.grep&&o.grep(r.grep,r.invert),r.globals&&o.globals(r.globals),r.growl&&this._growl(o,i),e.reporters.Base.useColors=r.useColors,e.reporters.Base.inlineDiffs=r.useInlineDiffs,o.run(t)}}),t.register("ms.js",function(t){function e(t){var e=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"y":return n*c;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"h":return n*a;case"minutes":case"minute":case"m":return n*s;case"seconds":case"second":case"s":return n*i;case"ms":return n}}}function n(t){return t>=u?Math.round(t/u)+"d":t>=a?Math.round(t/a)+"h":t>=s?Math.round(t/s)+"m":t>=i?Math.round(t/i)+"s":t+"ms"}function r(t){return o(t,u,"day")||o(t,a,"hour")||o(t,s,"minute")||o(t,i,"second")||t+" ms"}function o(t,e,n){return e>t?void 0:1.5*e>t?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var i=1e3,s=60*i,a=60*s,u=24*a,c=365.25*u;t.exports=function(t,o){return o=o||{},"string"==typeof t?e(t):o.long?r(t):n(t)}}),t.register("reporters/base.js",function(t,e,n){function o(t){var e=this.stats={suites:0,tests:0,passes:0,pending:0,failures:0},n=this.failures=[];t&&(this.runner=t,t.stats=e,t.on("start",function(){e.start=new m}),t.on("suite",function(t){e.suites=e.suites||0,t.root||e.suites++}),t.on("test end",function(){e.tests=e.tests||0,e.tests++}),t.on("pass",function(t){e.passes=e.passes||0;var n=t.slow()/2;t.speed=t.duration>t.slow()?"slow":t.duration>n?"medium":"fast",e.passes++}),t.on("fail",function(t,r){e.failures=e.failures||0,e.failures++,t.err=r,n.push(t)}),t.on("end",function(){e.end=new m,e.duration=new m-e.start}),t.on("pending",function(){e.pending++}))}function i(t,e){return t=String(t),Array(e-t.length+1).join(" ")+t}function a(t,e){var n=c(t,"WordsWithSpace",e),r=n.split("\n");if(r.length>4){var o=String(r.length).length;n=r.map(function(t,e){return i(++e,o)+" | "+t}).join("\n")}return n="\n"+b("diff removed","actual")+" "+b("diff added","expected")+"\n\n"+n+"\n",n=n.replace(/^/gm,"      ")}function u(t,e){function n(t){return e&&(t=l(t)),"+"===t[0]?o+f("diff added",t):"-"===t[0]?o+f("diff removed",t):t.match(/\@\@/)?null:t.match(/\\ No newline/)?null:o+t}function r(t){return null!=t}var o="      ";msg=d.createPatch("string",t.actual,t.expected);var i=msg.split("\n").splice(4);return"\n      "+f("diff added","+ expected")+" "+f("diff removed","- actual")+"\n\n"+i.map(n).filter(r).join("\n")}function c(t,e,n){var r=n?l(t.actual):t.actual,o=n?l(t.expected):t.expected;return d["diff"+e](r,o).map(function(t){return t.added?f("diff added",t.value):t.removed?f("diff removed",t.value):t.value}).join("")}function l(t){return t.replace(/\t/g,"<tab>").replace(/\r/g,"<CR>").replace(/\n/g,"<LF>\n")}function f(t,e){return e.split("\n").map(function(e){return b(t,e)}).join("\n")}function p(t,e){return t=Object.prototype.toString.call(t),e=Object.prototype.toString.call(e),t==e}var h=n("browser/tty"),d=n("browser/diff"),g=n("../ms"),v=n("../utils"),m=r.Date,y=(r.setTimeout,r.setInterval,r.clearTimeout,r.clearInterval,h.isatty(1)&&h.isatty(2));e=t.exports=o,e.useColors=y||void 0!==s.env.MOCHA_COLORS,e.inlineDiffs=!1,e.colors={pass:90,fail:31,"bright pass":92,"bright fail":91,"bright yellow":93,pending:36,suite:0,"error title":0,"error message":31,"error stack":90,checkmark:32,fast:90,medium:33,slow:31,green:32,light:90,"diff gutter":90,"diff added":42,"diff removed":41},e.symbols={ok:"â",err:"â",dot:"â¤"},"win32"==s.platform&&(e.symbols.ok="â",e.symbols.err="Ã",e.symbols.dot=".");var b=e.color=function(t,n){return e.useColors?"["+e.colors[t]+"m"+n+"[0m":n};e.window={width:y?s.stdout.getWindowSize?s.stdout.getWindowSize(1)[0]:h.getWindowSize()[1]:75},e.cursor={hide:function(){y&&s.stdout.write("[?25l")},show:function(){y&&s.stdout.write("[?25h")},deleteLine:function(){y&&s.stdout.write("[2K")},beginningOfLine:function(){y&&s.stdout.write("[0G")},CR:function(){y?(e.cursor.deleteLine(),e.cursor.beginningOfLine()):s.stdout.write("\r")}},e.list=function(t){console.error(),t.forEach(function(t,n){var r=b("error title","  %s) %s:\n")+b("error message","     %s")+b("error stack","\n%s\n"),o=t.err,i=o.message||"",s=o.stack||i,c=s.indexOf(i)+i.length,l=s.slice(0,c),f=o.actual,h=o.expected,d=!0;if(o.uncaught&&(l="Uncaught "+l),o.showDiff&&p(f,h)&&(d=!1,o.actual=f=v.stringify(f),o.expected=h=v.stringify(h)),"string"==typeof f&&"string"==typeof h){r=b("error title","  %s) %s:\n%s")+b("error stack","\n%s\n");var g=i.match(/^([^:]+): expected/);l="\n      "+b("error message",g?g[1]:l),l+=e.inlineDiffs?a(o,d):u(o,d)}s=s.slice(c?c+1:c).replace(/^/gm,"  "),console.error(r,n+1,t.fullTitle(),l,s)})},o.prototype.epilogue=function(){var t,e=this.stats;console.log(),t=b("bright pass"," ")+b("green"," %d passing")+b("light"," (%s)"),console.log(t,e.passes||0,g(e.duration)),e.pending&&(t=b("pending"," ")+b("pending"," %d pending"),console.log(t,e.pending)),e.failures&&(t=b("fail","  %d failing"),console.error(t,e.failures),o.list(this.failures),console.error()),console.log()}}),t.register("reporters/doc.js",function(t,e,n){function r(t){function e(){return Array(n).join("  ")}o.call(this,t);var n=(this.stats,t.total,2);t.on("suite",function(t){t.root||(++n,console.log('%s<section class="suite">',e()),++n,console.log("%s<h1>%s</h1>",e(),i.escape(t.title)),console.log("%s<dl>",e()))}),t.on("suite end",function(t){t.root||(console.log("%s</dl>",e()),--n,console.log("%s</section>",e()),--n)}),t.on("pass",function(t){console.log("%s  <dt>%s</dt>",e(),i.escape(t.title));var n=i.escape(i.clean(t.fn.toString()));console.log("%s  <dd><pre><code>%s</code></pre></dd>",e(),n)}),t.on("fail",function(t,n){console.log('%s  <dt class="error">%s</dt>',e(),i.escape(t.title));var r=i.escape(i.clean(t.fn.toString()));console.log('%s  <dd class="error"><pre><code>%s</code></pre></dd>',e(),r),console.log('%s  <dd class="error">%s</dd>',e(),i.escape(n))})}var o=n("./base"),i=n("../utils");e=t.exports=r}),t.register("reporters/dot.js",function(t,e,n){function r(t){i.call(this,t);var e=this,n=(this.stats,.75*i.window.width|0),r=-1;t.on("start",function(){s.stdout.write("\n  ")}),t.on("pending",function(){++r%n==0&&s.stdout.write("\n  "),s.stdout.write(a("pending",i.symbols.dot))}),t.on("pass",function(t){++r%n==0&&s.stdout.write("\n  "),s.stdout.write("slow"==t.speed?a("bright yellow",i.symbols.dot):a(t.speed,i.symbols.dot))}),t.on("fail",function(){++r%n==0&&s.stdout.write("\n  "),s.stdout.write(a("fail",i.symbols.dot))}),t.on("end",function(){console.log(),e.epilogue()})}function o(){}var i=n("./base"),a=i.color;e=t.exports=r,o.prototype=i.prototype,r.prototype=new o,r.prototype.constructor=r}),t.register("reporters/html-cov.js",function(t,e,r){function o(t){var e=r("jade"),o=n+"/templates/coverage.jade",c=u.readFileSync(o,"utf8"),l=e.compile(c,{filename:o}),f=this;a.call(this,t,!1),t.on("end",function(){s.stdout.write(l({cov:f.cov,coverageClass:i}))})}function i(t){return t>=75?"high":t>=50?"medium":t>=25?"low":"terrible"}var a=r("./json-cov"),u=r("browser/fs");e=t.exports=o}),t.register("reporters/html.js",function(t,e,n){function o(t){f.call(this,t);var e,n,r=this,o=this.stats,m=(t.total,s(v)),y=m.getElementsByTagName("li"),b=y[1].getElementsByTagName("em")[0],w=y[1].getElementsByTagName("a")[0],x=y[2].getElementsByTagName("em")[0],j=y[2].getElementsByTagName("a")[0],_=y[3].getElementsByTagName("em")[0],E=m.getElementsByTagName("canvas")[0],k=s('<ul id="mocha-report"></ul>'),A=[k],T=document.getElementById("mocha");if(E.getContext){var C=window.devicePixelRatio||1;E.style.width=E.width,E.style.height=E.height,E.width*=C,E.height*=C,n=E.getContext("2d"),n.scale(C,C),e=new h}return T?(l(w,"click",function(){u();var t=/pass/.test(k.className)?"":" pass";k.className=k.className.replace(/fail|pass/g,"")+t,k.className.trim()&&a("test pass")}),l(j,"click",function(){u();var t=/fail/.test(k.className)?"":" fail";k.className=k.className.replace(/fail|pass/g,"")+t,k.className.trim()&&a("test fail")}),T.appendChild(m),T.appendChild(k),e&&e.size(40),t.on("suite",function(t){if(!t.root){var e=r.suiteURL(t),n=s('<li class="suite"><h1><a href="%s">%s</a></h1></li>',e,d(t.title));A[0].appendChild(n),A.unshift(document.createElement("ul")),n.appendChild(A[0])}}),t.on("suite end",function(t){t.root||A.shift()}),t.on("fail",function(e){"hook"==e.type&&t.emit("test end",e)}),void t.on("test end",function(t){var i=o.tests/this.total*100|0;e&&e.update(i).draw(n);var a=new g-o.start;if(c(b,o.passes),c(x,o.failures),c(_,(a/1e3).toFixed(2)),"passed"==t.state)var u=r.testURL(t),f=s('<li class="test pass %e"><h2>%e<span class="duration">%ems</span> <a href="%s" class="replay">â£</a></h2></li>',t.speed,t.title,t.duration,u);else if(t.pending)var f=s('<li class="test pass pending"><h2>%e</h2></li>',t.title);else{var f=s('<li class="test fail"><h2>%e <a href="?grep=%e" class="replay">â£</a></h2></li>',t.title,encodeURIComponent(t.fullTitle())),h=t.err.stack||t.err.toString();~h.indexOf(t.err.message)||(h=t.err.message+"\n"+h),"[object Error]"==h&&(h=t.err.message),!t.err.stack&&t.err.sourceURL&&void 0!==t.err.line&&(h+="\n("+t.err.sourceURL+":"+t.err.line+")"),f.appendChild(s('<pre class="error">%e</pre>',h))}if(!t.pending){var d=f.getElementsByTagName("h2")[0];l(d,"click",function(){v.style.display="none"==v.style.display?"block":"none"});var v=s("<pre><code>%e</code></pre>",p.clean(t.fn.toString()));f.appendChild(v),v.style.display="none"}A[0]&&A[0].appendChild(f)})):i("#mocha div missing, add it to your document")}function i(t){document.body.appendChild(s('<div id="mocha-error">%s</div>',t))}function s(t){var e=arguments,n=document.createElement("div"),r=1;return n.innerHTML=t.replace(/%([se])/g,function(t,n){switch(n){case"s":return String(e[r++]);case"e":return d(e[r++])}}),n.firstChild}function a(t){for(var e=document.getElementsByClassName("suite"),n=0;n<e.length;n++){var r=e[n].getElementsByClassName(t);0==r.length&&(e[n].className+=" hidden")}}function u(){for(var t=document.getElementsByClassName("suite hidden"),e=0;e<t.length;++e)t[e].className=t[e].className.replace("suite hidden","suite")}function c(t,e){t.textContent?t.textContent=e:t.innerText=e}function l(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}{var f=n("./base"),p=n("../utils"),h=n("../browser/progress"),d=p.escape,g=r.Date;r.setTimeout,r.setInterval,r.clearTimeout,r.clearInterval}e=t.exports=o;var v='<ul id="mocha-stats"><li class="progress"><canvas width="40" height="40"></canvas></li><li class="passes"><a href="#">passes:</a> <em>0</em></li><li class="failures"><a href="#">failures:</a> <em>0</em></li><li class="duration">duration: <em>0</em>s</li></ul>';o.prototype.suiteURL=function(t){return"?grep="+encodeURIComponent(t.fullTitle())},o.prototype.testURL=function(t){return"?grep="+encodeURIComponent(t.fullTitle())}}),t.register("reporters/index.js",function(t,e,n){e.Base=n("./base"),e.Dot=n("./dot"),e.Doc=n("./doc"),e.TAP=n("./tap"),e.JSON=n("./json"),e.HTML=n("./html"),e.List=n("./list"),e.Min=n("./min"),e.Spec=n("./spec"),e.Nyan=n("./nyan"),e.XUnit=n("./xunit"),e.Markdown=n("./markdown"),e.Progress=n("./progress"),e.Landing=n("./landing"),e.JSONCov=n("./json-cov"),e.HTMLCov=n("./html-cov"),e.JSONStream=n("./json-stream")}),t.register("reporters/json-cov.js",function(t,e,n){function o(t,e){var n=this,e=1==arguments.length?!0:e;c.call(this,t);var o=[],a=[],l=[];t.on("test end",function(t){o.push(t)}),t.on("pass",function(t){l.push(t)}),t.on("fail",function(t){a.push(t)}),t.on("end",function(){var t=r._$jscoverage||{},c=n.cov=i(t);c.stats=n.stats,c.tests=o.map(u),c.failures=a.map(u),c.passes=l.map(u),e&&s.stdout.write(JSON.stringify(c,null,2))})}function i(t){var e={instrumentation:"node-jscoverage",sloc:0,hits:0,misses:0,coverage:0,files:[]};for(var n in t){var r=a(n,t[n]);e.files.push(r),e.hits+=r.hits,e.misses+=r.misses,e.sloc+=r.sloc}return e.files.sort(function(t,e){return t.filename.localeCompare(e.filename)}),e.sloc>0&&(e.coverage=e.hits/e.sloc*100),e}function a(t,e){var n={filename:t,coverage:0,hits:0,misses:0,sloc:0,source:{}};return e.source.forEach(function(t,r){r++,0===e[r]?(n.misses++,n.sloc++):void 0!==e[r]&&(n.hits++,n.sloc++),n.source[r]={source:t,coverage:void 0===e[r]?"":e[r]}}),n.coverage=n.hits/n.sloc*100,n}function u(t){return{title:t.title,fullTitle:t.fullTitle(),duration:t.duration}}var c=n("./base");e=t.exports=o}),t.register("reporters/json-stream.js",function(t,e,n){function r(t){i.call(this,t);var e=this,n=(this.stats,t.total);t.on("start",function(){console.log(JSON.stringify(["start",{total:n}]))}),t.on("pass",function(t){console.log(JSON.stringify(["pass",o(t)]))}),t.on("fail",function(t){console.log(JSON.stringify(["fail",o(t)]))}),t.on("end",function(){s.stdout.write(JSON.stringify(["end",e.stats]))})}function o(t){return{title:t.title,fullTitle:t.fullTitle(),duration:t.duration}}{var i=n("./base");i.color}e=t.exports=r}),t.register("reporters/json.js",function(t,e,n){function r(t){var e=this;i.call(this,t);var n=[],r=[],a=[];t.on("test end",function(t){n.push(t)}),t.on("pass",function(t){a.push(t)}),t.on("fail",function(t){r.push(t)}),t.on("end",function(){var t={stats:e.stats,tests:n.map(o),failures:r.map(o),passes:a.map(o)};s.stdout.write(JSON.stringify(t,null,2))})}function o(t){return{title:t.title,fullTitle:t.fullTitle(),duration:t.duration,err:t.err}}{var i=n("./base");i.cursor,i.color}e=t.exports=r}),t.register("reporters/landing.js",function(t,e,n){function r(t){function e(){var t=Array(r).join("-");return"  "+u("runway",t)}i.call(this,t);var n=this,r=(this.stats,.75*i.window.width|0),o=t.total,c=s.stdout,l=u("plane","â"),f=-1,p=0;t.on("start",function(){c.write("\n  "),a.hide()}),t.on("test end",function(t){var n=-1==f?r*++p/o|0:f;"failed"==t.state&&(l=u("plane crash","â"),f=n),c.write("[4F\n\n"),c.write(e()),c.write("\n  "),c.write(u("runway",Array(n).join("â"))),c.write(l),c.write(u("runway",Array(r-n).join("â")+"\n")),c.write(e()),c.write("[0m")}),t.on("end",function(){a.show(),console.log(),n.epilogue()})}function o(){}var i=n("./base"),a=i.cursor,u=i.color;e=t.exports=r,i.colors.plane=0,i.colors["plane crash"]=31,i.colors.runway=90,o.prototype=i.prototype,r.prototype=new o,r.prototype.constructor=r}),t.register("reporters/list.js",function(t,e,n){function r(t){i.call(this,t);var e=this,n=(this.stats,0);t.on("start",function(){console.log()}),t.on("test",function(t){s.stdout.write(u("pass","    "+t.fullTitle()+": "))}),t.on("pending",function(t){var e=u("checkmark","  -")+u("pending"," %s");console.log(e,t.fullTitle())}),t.on("pass",function(t){var e=u("checkmark","  "+i.symbols.dot)+u("pass"," %s: ")+u(t.speed,"%dms");a.CR(),console.log(e,t.fullTitle(),t.duration)}),t.on("fail",function(t){a.CR(),console.log(u("fail","  %d) %s"),++n,t.fullTitle())}),t.on("end",e.epilogue.bind(e))}function o(){}var i=n("./base"),a=i.cursor,u=i.color;e=t.exports=r,o.prototype=i.prototype,r.prototype=new o,r.prototype.constructor=r}),t.register("reporters/markdown.js",function(t,e,n){function r(t){function e(t){return Array(u).join("#")+" "+t}function n(t,e){var r=e;return e=e[t.title]=e[t.title]||{suite:t},t.suites.forEach(function(t){n(t,e)}),r}function r(t,e){++e;var n,o="";for(var s in t)"suite"!=s&&(s&&(n=" - ["+s+"](#"+i.slug(t[s].suite.fullTitle())+")\n"),s&&(o+=Array(e).join("  ")+n),o+=r(t[s],e));return--e,o}function a(t){var e=n(t,{});return r(e,0)}o.call(this,t);var u=(this.stats,0),c="";a(t.suite),t.on("suite",function(t){++u;var n=i.slug(t.fullTitle());c+='<a name="'+n+'"></a>\n',c+=e(t.title)+"\n"}),t.on("suite end",function(){--u}),t.on("pass",function(t){var e=i.clean(t.fn.toString());c+=t.title+".\n",c+="\n```js\n",c+=e+"\n",c+="```\n\n"}),t.on("end",function(){s.stdout.write("# TOC\n"),s.stdout.write(a(t.suite)),s.stdout.write(c)})}var o=n("./base"),i=n("../utils");e=t.exports=r}),t.register("reporters/min.js",function(t,e,n){function r(t){i.call(this,t),t.on("start",function(){s.stdout.write("[2J"),s.stdout.write("[1;3H")}),t.on("end",this.epilogue.bind(this))}function o(){}var i=n("./base");e=t.exports=r,o.prototype=i.prototype,r.prototype=new o,r.prototype.constructor=r}),t.register("reporters/nyan.js",function(t,e,n){function r(t){a.call(this,t);{var e=this,n=(this.stats,.75*a.window.width|0),r=(this.rainbowColors=e.generateColors(),this.colorIndex=0,this.numberOfLines=4,this.trajectories=[[],[],[],[]],this.nyanCatWidth=11);this.trajectoryWidthMax=n-r,this.scoreboardWidth=5,this.tick=0}t.on("start",function(){a.cursor.hide(),e.draw()}),t.on("pending",function(){e.draw()}),t.on("pass",function(){e.draw()}),t.on("fail",function(){e.draw()}),t.on("end",function(){a.cursor.show();for(var t=0;t<e.numberOfLines;t++)o("\n");e.epilogue()})}function o(t){s.stdout.write(t)}function i(){}{var a=n("./base");a.color}e=t.exports=r,r.prototype.draw=function(){this.appendRainbow(),this.drawScoreboard(),this.drawRainbow(),this.drawNyanCat(),this.tick=!this.tick},r.prototype.drawScoreboard=function(){function t(t,e){o(" "),o("["+t+"m"+e+"[0m"),o("\n")}var e=this.stats,n=a.colors;t(n.green,e.passes),t(n.fail,e.failures),t(n.pending,e.pending),o("\n"),this.cursorUp(this.numberOfLines)},r.prototype.appendRainbow=function(){for(var t=this.tick?"_":"-",e=this.rainbowify(t),n=0;n<this.numberOfLines;n++){var r=this.trajectories[n];r.length>=this.trajectoryWidthMax&&r.shift(),r.push(e)}},r.prototype.drawRainbow=function(){var t=this;this.trajectories.forEach(function(e){o("["+t.scoreboardWidth+"C"),o(e.join("")),o("\n")}),this.cursorUp(this.numberOfLines)},r.prototype.drawNyanCat=function(){var t=this,e=this.scoreboardWidth+this.trajectories[0].length,n="["+e+"C",r="";o(n),o("_,------,"),o("\n"),o(n),r=t.tick?"  ":"   ",o("_|"+r+"/\\_/\\ "),o("\n"),o(n),r=t.tick?"_":"__";var i=t.tick?"~":"^";o(i+"|"+r+this.face()+" "),o("\n"),o(n),r=t.tick?" ":"  ",o(r+'""  "" '),o("\n"),this.cursorUp(this.numberOfLines)},r.prototype.face=function(){var t=this.stats;return t.failures?"( x .x)":t.pending?"( o .o)":t.passes?"( ^ .^)":"( - .-)"},r.prototype.cursorUp=function(t){o("["+t+"A")},r.prototype.cursorDown=function(t){o("["+t+"B")},r.prototype.generateColors=function(){for(var t=[],e=0;42>e;e++){var n=Math.floor(Math.PI/3),r=e*(1/6),o=Math.floor(3*Math.sin(r)+3),i=Math.floor(3*Math.sin(r+2*n)+3),s=Math.floor(3*Math.sin(r+4*n)+3);t.push(36*o+6*i+s+16)}return t},r.prototype.rainbowify=function(t){var e=this.rainbowColors[this.colorIndex%this.rainbowColors.length];return this.colorIndex+=1,"[38;5;"+e+"m"+t+"[0m"},i.prototype=a.prototype,r.prototype=new i,r.prototype.constructor=r}),t.register("reporters/progress.js",function(t,e,n){function r(t,e){i.call(this,t);var n=this,e=e||{},r=(this.stats,.5*i.window.width|0),o=t.total,c=0,l=(Math.max,-1);e.open=e.open||"[",e.complete=e.complete||"â¬",e.incomplete=e.incomplete||i.symbols.dot,e.close=e.close||"]",e.verbose=!1,t.on("start",function(){console.log(),a.hide()}),t.on("test end",function(){c++;var t=c/o,n=r*t|0,i=r-n;(l!==n||e.verbose)&&(l=n,a.CR(),s.stdout.write("[J"),s.stdout.write(u("progress","  "+e.open)),s.stdout.write(Array(n).join(e.complete)),s.stdout.write(Array(i).join(e.incomplete)),s.stdout.write(u("progress",e.close)),e.verbose&&s.stdout.write(u("progress"," "+c+" of "+o)))}),t.on("end",function(){a.show(),console.log(),n.epilogue()})}function o(){}var i=n("./base"),a=i.cursor,u=i.color;e=t.exports=r,i.colors.progress=90,o.prototype=i.prototype,r.prototype=new o,r.prototype.constructor=r}),t.register("reporters/spec.js",function(t,e,n){function r(t){function e(){return Array(r).join("  ")}i.call(this,t);var n=this,r=(this.stats,0),o=0;t.on("start",function(){console.log()}),t.on("suite",function(t){++r,console.log(a("suite","%s%s"),e(),t.title)}),t.on("suite end",function(){--r,1==r&&console.log()}),t.on("pending",function(t){var n=e()+a("pending","  - %s");console.log(n,t.title)}),t.on("pass",function(t){if("fast"==t.speed){var n=e()+a("checkmark","  "+i.symbols.ok)+a("pass"," %s ");s.CR(),console.log(n,t.title)}else{var n=e()+a("checkmark","  "+i.symbols.ok)+a("pass"," %s ")+a(t.speed,"(%dms)");s.CR(),console.log(n,t.title,t.duration)}}),t.on("fail",function(t){s.CR(),console.log(e()+a("fail","  %d) %s"),++o,t.title)}),t.on("end",n.epilogue.bind(n))}function o(){}var i=n("./base"),s=i.cursor,a=i.color;e=t.exports=r,o.prototype=i.prototype,r.prototype=new o,r.prototype.constructor=r}),t.register("reporters/tap.js",function(t,e,n){function r(t){i.call(this,t);var e=(this.stats,1),n=0,r=0;t.on("start",function(){var e=t.grepTotal(t.suite);console.log("%d..%d",1,e)}),t.on("test end",function(){++e}),t.on("pending",function(t){console.log("ok %d %s # SKIP -",e,o(t))}),t.on("pass",function(t){n++,console.log("ok %d %s",e,o(t))}),t.on("fail",function(t,n){r++,console.log("not ok %d %s",e,o(t)),n.stack&&console.log(n.stack.replace(/^/gm,"  "))}),t.on("end",function(){console.log("# tests "+(n+r)),console.log("# pass "+n),console.log("# fail "+r)})}function o(t){return t.fullTitle().replace(/#/g,"")}{var i=n("./base");i.cursor,i.color}e=t.exports=r}),t.register("reporters/xunit.js",function(t,e,n){function o(t){c.call(this,t);var e=this.stats,n=[];t.on("pending",function(t){n.push(t)}),t.on("pass",function(t){n.push(t)}),t.on("fail",function(t){n.push(t)}),t.on("end",function(){console.log(a("testsuite",{name:"Mocha Tests",tests:e.tests,failures:e.failures,errors:e.failures,skipped:e.tests-e.failures-e.passes,timestamp:(new p).toUTCString(),time:e.duration/1e3||0},!1)),n.forEach(s),console.log("</testsuite>")})}function i(){}function s(t){var e={classname:t.parent.fullTitle(),name:t.title,time:t.duration/1e3||0};if("failed"==t.state){var n=t.err;console.log(a("testcase",e,!1,a("failure",{},!1,u(f(n.message)+"\n"+n.stack))))}else console.log(t.pending?a("testcase",e,!1,a("skipped",{},!0)):a("testcase",e,!0))}function a(t,e,n,r){var o,i=n?"/>":">",s=[];for(var a in e)s.push(a+'="'+f(e[a])+'"');return o="<"+t+(s.length?" "+s.join(" "):"")+i,r&&(o+=r+"</"+t+i),o}function u(t){return"<![CDATA["+f(t)+"]]>"}{var c=n("./base"),l=n("../utils"),f=l.escape,p=r.Date;r.setTimeout,r.setInterval,r.clearTimeout,r.clearInterval}e=t.exports=o,i.prototype=c.prototype,o.prototype=new i,o.prototype.constructor=o}),t.register("runnable.js",function(t,e,n){function o(t,e){this.title=t,this.fn=e,this.async=e&&e.length,this.sync=!this.async,this._timeout=2e3,this._slow=75,this._enableTimeouts=!0,this.timedOut=!1}function i(){}var s=n("browser/events").EventEmitter,a=n("browser/debug")("mocha:runnable"),u=n("./ms"),c=r.Date,l=r.setTimeout,f=(r.setInterval,r.clearTimeout),p=(r.clearInterval,Object.prototype.toString);t.exports=o,i.prototype=s.prototype,o.prototype=new i,o.prototype.constructor=o,o.prototype.timeout=function(t){return 0==arguments.length?this._timeout:("string"==typeof t&&(t=u(t)),a("timeout %d",t),this._timeout=t,this.timer&&this.resetTimeout(),this)},o.prototype.slow=function(t){return 0===arguments.length?this._slow:("string"==typeof t&&(t=u(t)),a("timeout %d",t),this._slow=t,this)},o.prototype.enableTimeouts=function(t){return 0===arguments.length?this._enableTimeouts:(a("enableTimeouts %s",t),this._enableTimeouts=t,this)},o.prototype.fullTitle=function(){return this.parent.fullTitle()+" "+this.title},o.prototype.clearTimeout=function(){f(this.timer)},o.prototype.inspect=function(){return JSON.stringify(this,function(t,e){return"_"!=t[0]?"parent"==t?"#<Suite>":"ctx"==t?"#<Context>":e:void 0},2)},o.prototype.resetTimeout=function(){var t=this,e=this.timeout()||1e9;this._enableTimeouts&&(this.clearTimeout(),this.timer=l(function(){t.callback(new Error("timeout of "+e+"ms exceeded")),t.timedOut=!0},e))},o.prototype.globals=function(t){this._allowedGlobals=t},o.prototype.run=function(t){function e(t){i||(i=!0,s.emit("error",t||new Error("done() called multiple times")))}function n(n){var r=s.timeout();if(!s.timedOut){if(o)return e(n);s.clearTimeout(),s.duration=new c-a,o=!0,!n&&s.duration>r&&s._enableTimeouts&&(n=new Error("timeout of "+r+"ms exceeded")),t(n)}}function r(t){var e=t.call(u);e&&"function"==typeof e.then?(s.resetTimeout(),e.then(function(){n()},function(t){n(t||new Error("Promise rejected with no or falsy reason"))})):n()}var o,i,s=this,a=new c,u=this.ctx;if(u&&u.runnable(this),this.callback=n,this.async){this.resetTimeout();try{this.fn.call(u,function(t){return t instanceof Error||"[object Error]"===p.call(t)?n(t):null!=t?n("[object Object]"===Object.prototype.toString.call(t)?new Error("done() invoked with non-Error: "+JSON.stringify(t)):new Error("done() invoked with non-Error: "+t)):void n()})}catch(l){n(l)}}else{if(this.asyncOnly)return n(new Error("--async-only option in use without declaring `done()`"));try{this.pending?n():r(this.fn)}catch(l){n(l)}}}}),t.register("runner.js",function(t,e,n){function o(t){var e=this;this._globals=[],this._abort=!1,this.suite=t,this.total=t.total(),this.failures=0,this.on("test end",function(t){e.checkGlobals(t)}),this.on("hook end",function(t){e.checkGlobals(t)}),this.grep(/.*/),this.globals(this.globalProps().concat(u()))}function i(){}function a(t,e){return p(e,function(e){if(/^d+/.test(e))return!1;if(r.navigator&&/^getInterface/.test(e))return!1;if(r.navigator&&/^\d+/.test(e))return!1;if(/^mocha-/.test(e))return!1;var n=p(t,function(t){return~t.indexOf("*")?0==e.indexOf(t.split("*")[0]):e==t});return 0==n.length&&(!r.navigator||"onerror"!==e)})}function u(){if("object"==typeof s&&"string"==typeof s.version){var t=s.version.split(".").reduce(function(t,e){return t<<8|e});if(2315>t)return["errno"]}return[]}var c=n("browser/events").EventEmitter,l=n("browser/debug")("mocha:runner"),f=(n("./test"),n("./utils")),p=f.filter,h=(f.keys,["setTimeout","clearTimeout","setInterval","clearInterval","XMLHttpRequest","Date"]);t.exports=o,o.immediately=r.setImmediate||s.nextTick,i.prototype=c.prototype,o.prototype=new i,o.prototype.constructor=o,o.prototype.grep=function(t,e){return l("grep %s",t),this._grep=t,this._invert=e,this.total=this.grepTotal(this.suite),this},o.prototype.grepTotal=function(t){var e=this,n=0;return t.eachTest(function(t){var r=e._grep.test(t.fullTitle());e._invert&&(r=!r),r&&n++}),n},o.prototype.globalProps=function(){for(var t=f.keys(r),e=0;e<h.length;++e)~f.indexOf(t,h[e])||t.push(h[e]);return t},o.prototype.globals=function(t){return 0==arguments.length?this._globals:(l("globals %j",t),this._globals=this._globals.concat(t),this)},o.prototype.checkGlobals=function(t){if(!this.ignoreLeaks){var e,n=this._globals,r=this.globalProps();t&&(n=n.concat(t._allowedGlobals||[])),this.prevGlobalsLength!=r.length&&(this.prevGlobalsLength=r.length,e=a(n,r),this._globals=this._globals.concat(e),e.length>1?this.fail(t,new Error("global leaks detected: "+e.join(", "))):e.length&&this.fail(t,new Error("global leak detected: "+e[0])))}},o.prototype.fail=function(t,e){++this.failures,t.state="failed","string"==typeof e&&(e=new Error('the string "'+e+'" was thrown, throw an Error :)')),this.emit("fail",t,e)},o.prototype.failHook=function(t,e){this.fail(t,e),this.suite.bail()&&this.emit("end")},o.prototype.hook=function(t,e){function n(t){var o=i[t];return o?s.failures&&r.bail()?e():(s.currentRunnable=o,o.ctx.currentTest=s.test,s.emit("hook",o),o.on("error",function(t){s.failHook(o,t)}),void o.run(function(r){o.removeAllListeners("error");var i=o.error();return i&&s.fail(s.test,i),r?(s.failHook(o,r),e(r)):(s.emit("hook end",o),delete o.ctx.currentTest,void n(++t))})):e()}var r=this.suite,i=r["_"+t],s=this;o.immediately(function(){n(0)})},o.prototype.hooks=function(t,e,n){function r(s){return o.suite=s,s?void o.hook(t,function(t){if(t){var s=o.suite;return o.suite=i,n(t,s)}r(e.pop())}):(o.suite=i,n())}var o=this,i=this.suite;r(e.pop())},o.prototype.hookUp=function(t,e){var n=[this.suite].concat(this.parents()).reverse();this.hooks(t,n,e)},o.prototype.hookDown=function(t,e){var n=[this.suite].concat(this.parents());this.hooks(t,n,e)},o.prototype.parents=function(){for(var t=this.suite,e=[];t=t.parent;)e.push(t);return e},o.prototype.runTest=function(t){var e=this.test,n=this;this.asyncOnly&&(e.asyncOnly=!0);try{e.on("error",function(t){n.fail(e,t)}),e.run(t)}catch(r){t(r)}},o.prototype.runTests=function(t,e){function n(t,r,o){var s=i.suite;i.suite=o?r.parent:r,i.suite?i.hookUp("afterEach",function(t,o){return i.suite=s,t?n(t,o,!0):void e(r)}):(i.suite=s,e(r))}function r(a,u){if(i.failures&&t._bail)return e();if(i._abort)return e();if(a)return n(a,u,!0);if(o=s.shift(),!o)return e();var c=i._grep.test(o.fullTitle());return i._invert&&(c=!c),c?o.pending?(i.emit("pending",o),i.emit("test end",o),r()):(i.emit("test",i.test=o),void i.hookDown("beforeEach",function(t,e){return t?n(t,e,!1):(i.currentRunnable=i.test,void i.runTest(function(t){return o=i.test,t?(i.fail(o,t),i.emit("test end",o),i.hookUp("afterEach",r)):(o.state="passed",i.emit("pass",o),i.emit("test end",o),void i.hookUp("afterEach",r))}))})):r()}var o,i=this,s=t.tests.slice();this.next=r,r()},o.prototype.runSuite=function(t,e){function n(e){if(e)return e==t?r():r(e);if(i._abort)return r();var o=t.suites[s++];
return o?void i.runSuite(o,n):r()}function r(n){i.suite=t,i.hook("afterAll",function(){i.emit("suite end",t),e(n)})}var o=this.grepTotal(t),i=this,s=0;return l("run suite %s",t.fullTitle()),o?(this.emit("suite",this.suite=t),void this.hook("beforeAll",function(e){return e?r():void i.runTests(t,n)})):e()},o.prototype.uncaught=function(t){t?l("uncaught exception %s",t.message):(l("uncaught undefined exception"),t=new Error("Catched undefined error, did you throw without specifying what?"));var e=this.currentRunnable;if(e&&"failed"!=e.state)return e.clearTimeout(),t.uncaught=!0,this.fail(e,t),"test"==e.type?(this.emit("test end",e),void this.hookUp("afterEach",this.next)):void this.emit("end")},o.prototype.run=function(t){function e(t){n.uncaught(t)}var n=this,t=t||function(){};return l("start"),this.on("end",function(){l("end"),s.removeListener("uncaughtException",e),t(n.failures)}),this.emit("start"),this.runSuite(this.suite,function(){l("finished running"),n.emit("end")}),s.on("uncaughtException",e),this},o.prototype.abort=function(){l("aborting"),this._abort=!0}}),t.register("suite.js",function(t,e,n){function r(t,e){this.title=t;var n=function(){};n.prototype=e,this.ctx=new n,this.suites=[],this.tests=[],this.pending=!1,this._beforeEach=[],this._beforeAll=[],this._afterEach=[],this._afterAll=[],this.root=!t,this._timeout=2e3,this._enableTimeouts=!0,this._slow=75,this._bail=!1}function o(){}var i=n("browser/events").EventEmitter,s=n("browser/debug")("mocha:suite"),a=n("./ms"),u=n("./utils"),c=n("./hook");e=t.exports=r,e.create=function(t,e){var n=new r(e,t.ctx);return n.parent=t,t.pending&&(n.pending=!0),e=n.fullTitle(),t.addSuite(n),n},o.prototype=i.prototype,r.prototype=new o,r.prototype.constructor=r,r.prototype.clone=function(){var t=new r(this.title);return s("clone"),t.ctx=this.ctx,t.timeout(this.timeout()),t.enableTimeouts(this.enableTimeouts()),t.slow(this.slow()),t.bail(this.bail()),t},r.prototype.timeout=function(t){return 0==arguments.length?this._timeout:("string"==typeof t&&(t=a(t)),s("timeout %d",t),this._timeout=parseInt(t,10),this)},r.prototype.enableTimeouts=function(t){return 0===arguments.length?this._enableTimeouts:(s("enableTimeouts %s",t),this._enableTimeouts=t,this)},r.prototype.slow=function(t){return 0===arguments.length?this._slow:("string"==typeof t&&(t=a(t)),s("slow %d",t),this._slow=t,this)},r.prototype.bail=function(t){return 0==arguments.length?this._bail:(s("bail %s",t),this._bail=t,this)},r.prototype.beforeAll=function(t,e){if(this.pending)return this;"function"==typeof t&&(e=t,t=e.name),t='"before all" hook'+(t?": "+t:"");var n=new c(t,e);return n.parent=this,n.timeout(this.timeout()),n.enableTimeouts(this.enableTimeouts()),n.slow(this.slow()),n.ctx=this.ctx,this._beforeAll.push(n),this.emit("beforeAll",n),this},r.prototype.afterAll=function(t,e){if(this.pending)return this;"function"==typeof t&&(e=t,t=e.name),t='"after all" hook'+(t?": "+t:"");var n=new c(t,e);return n.parent=this,n.timeout(this.timeout()),n.enableTimeouts(this.enableTimeouts()),n.slow(this.slow()),n.ctx=this.ctx,this._afterAll.push(n),this.emit("afterAll",n),this},r.prototype.beforeEach=function(t,e){if(this.pending)return this;"function"==typeof t&&(e=t,t=e.name),t='"before each" hook'+(t?": "+t:"");var n=new c(t,e);return n.parent=this,n.timeout(this.timeout()),n.enableTimeouts(this.enableTimeouts()),n.slow(this.slow()),n.ctx=this.ctx,this._beforeEach.push(n),this.emit("beforeEach",n),this},r.prototype.afterEach=function(t,e){if(this.pending)return this;"function"==typeof t&&(e=t,t=e.name),t='"after each" hook'+(t?": "+t:"");var n=new c(t,e);return n.parent=this,n.timeout(this.timeout()),n.enableTimeouts(this.enableTimeouts()),n.slow(this.slow()),n.ctx=this.ctx,this._afterEach.push(n),this.emit("afterEach",n),this},r.prototype.addSuite=function(t){return t.parent=this,t.timeout(this.timeout()),t.enableTimeouts(this.enableTimeouts()),t.slow(this.slow()),t.bail(this.bail()),this.suites.push(t),this.emit("suite",t),this},r.prototype.addTest=function(t){return t.parent=this,t.timeout(this.timeout()),t.enableTimeouts(this.enableTimeouts()),t.slow(this.slow()),t.ctx=this.ctx,this.tests.push(t),this.emit("test",t),this},r.prototype.fullTitle=function(){if(this.parent){var t=this.parent.fullTitle();if(t)return t+" "+this.title}return this.title},r.prototype.total=function(){return u.reduce(this.suites,function(t,e){return t+e.total()},0)+this.tests.length},r.prototype.eachTest=function(t){return u.forEach(this.tests,t),u.forEach(this.suites,function(e){e.eachTest(t)}),this}}),t.register("test.js",function(t,e,n){function r(t,e){i.call(this,t,e),this.pending=!e,this.type="test"}function o(){}var i=n("./runnable");t.exports=r,o.prototype=i.prototype,r.prototype=new o,r.prototype.constructor=r}),t.register("utils.js",function(t,e,n){function r(t){return!~c.indexOf(t)}function o(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\/\/(.*)/gm,'<span class="comment">//$1</span>').replace(/('.*?')/gm,'<span class="string">$1</span>').replace(/(\d+\.\d+)/gm,'<span class="number">$1</span>').replace(/(\d+)/gm,'<span class="number">$1</span>').replace(/\bnew[ \t]+(\w+)/gm,'<span class="keyword">new</span> <span class="init">$1</span>').replace(/\b(function|new|throw|return|var|if|else)\b/gm,'<span class="keyword">$1</span>')}var i=n("browser/fs"),s=n("browser/path"),a=s.join,u=n("browser/debug")("mocha:watch"),c=["node_modules",".git"];e.escape=function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e.forEach=function(t,e,n){for(var r=0,o=t.length;o>r;r++)e.call(n,t[r],r)},e.map=function(t,e,n){for(var r=[],o=0,i=t.length;i>o;o++)r.push(e.call(n,t[o],o));return r},e.indexOf=function(t,e,n){for(var r=n||0,o=t.length;o>r;r++)if(t[r]===e)return r;return-1},e.reduce=function(t,e,n){for(var r=n,o=0,i=t.length;i>o;o++)r=e(r,t[o],o,t);return r},e.filter=function(t,e){for(var n=[],r=0,o=t.length;o>r;r++){var i=t[r];e(i,r,t)&&n.push(i)}return n},e.keys=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e},e.watch=function(t,e){var n={interval:100};t.forEach(function(t){u("file %s",t),i.watchFile(t,n,function(n,r){r.mtime<n.mtime&&e(t)})})},e.files=function(t,n,o){o=o||[],n=n||["js"];var s=new RegExp("\\.("+n.join("|")+")$");return i.readdirSync(t).filter(r).forEach(function(r){r=a(t,r),i.statSync(r).isDirectory()?e.files(r,n,o):r.match(s)&&o.push(r)}),o},e.slug=function(t){return t.toLowerCase().replace(/ +/g,"-").replace(/[^-\w]/g,"")},e.clean=function(t){t=t.replace(/\r\n?|[\n\u2028\u2029]/g,"\n").replace(/^\uFEFF/,"").replace(/^function *\(.*\) *{|\(.*\) *=> *{?/,"").replace(/\s+\}$/,"");var n=t.match(/^\n?( *)/)[1].length,r=t.match(/^\n?(\t*)/)[1].length,o=new RegExp("^\n?"+(r?"	":" ")+"{"+(r?r:n)+"}","gm");return t=t.replace(o,""),e.trim(t)},e.escapeRegexp=function(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},e.trim=function(t){return t.replace(/^\s+|\s+$/g,"")},e.parseQuery=function(t){return e.reduce(t.replace("?","").split("&"),function(t,e){var n=e.indexOf("="),r=e.slice(0,n),o=e.slice(++n);return t[r]=decodeURIComponent(o),t},{})},e.highlightTags=function(t){for(var e=document.getElementsByTagName(t),n=0,r=e.length;r>n;++n)e[n].innerHTML=o(e[n].innerHTML)},e.stringify=function(t){return t instanceof RegExp?t.toString():JSON.stringify(e.canonicalize(t),null,2).replace(/,(\n|$)/g,"$1")},e.canonicalize=function(t,n){if(n=n||[],-1!==e.indexOf(n,t))return"[Circular]";var r;return"[object Array]"==={}.toString.call(t)?(n.push(t),r=e.map(t,function(t){return e.canonicalize(t,n)}),n.pop()):"object"==typeof t&&null!==t?(n.push(t),r={},e.forEach(e.keys(t).sort(),function(o){r[o]=e.canonicalize(t[o],n)}),n.pop()):r=t,r}});var r=function(){return this}(),o=r.Date,i=r.setTimeout,s=(r.setInterval,r.clearTimeout,r.clearInterval,{});s.exit=function(){},s.stdout={};var a=[],u=r.onerror;s.removeListener=function(t,e){if("uncaughtException"==t){r.onerror=u?u:function(){};var n=c.utils.indexOf(a,e);-1!=n&&a.splice(n,1)}},s.on=function(t,e){"uncaughtException"==t&&(r.onerror=function(t,n,r){return e(new Error(t+" ("+n+":"+r+")")),!0},a.push(e))};var c=r.Mocha=t("mocha"),l=r.mocha=new c({reporter:"html"});l.suite.removeAllListeners("pre-require");var f,p=[];c.Runner.immediately=function(t){p.push(t),f||(f=i(e,0))},l.throwError=function(t){throw c.utils.forEach(a,function(e){e(t)}),t},l.ui=function(t){return c.prototype.ui.call(this,t),this.suite.emit("pre-require",r,null,this),this},l.setup=function(t){"string"==typeof t&&(t={ui:t});for(var e in t)this[e](t[e]);return this},l.run=function(t){l.options;l.globals("location");var e=c.utils.parseQuery(r.location.search||"");return e.grep&&l.grep(e.grep),e.invert&&l.invert(),c.prototype.run.call(l,function(e){r.document&&c.utils.highlightTags("code"),t&&t(e)})},c.process=s}()}).call(e,function(){return this}(),n(43),"/")},function(t){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===s?62:e===a?63:u>e?-1:u+10>e?e-u+26+26:l+26>e?e-l:c+26>e?e-c+26:void 0}function r(t){function n(t){c[f++]=t}var r,o,s,a,u,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;u="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,c=new i(3*t.length/4-u),s=u>0?t.length-4:t.length;var f=0;for(r=0,o=0;s>r;r+=4,o+=3)a=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===u?(a=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&a)):1===u&&(a=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(a>>8&255),n(255&a)),c}function o(t){function e(t){return n.charAt(t)}function r(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var o,i,s,a=t.length%3,u="";for(o=0,s=t.length-a;s>o;o+=3)i=(t[o]<<16)+(t[o+1]<<8)+t[o+2],u+=r(i);switch(a){case 1:i=t[t.length-1],u+=e(i>>2),u+=e(i<<4&63),u+="==";break;case 2:i=(t[t.length-2]<<8)+t[t.length-1],u+=e(i>>10),u+=e(i>>4&63),u+=e(i<<2&63),u+="="}return u}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0);t.toByteArray=r,t.fromByteArray=o}("undefined"==typeof e?this.base64js={}:e)},function(t,e){e.read=function(t,e,n,r,o){var i,s,a=8*o-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?o-1:0,p=n?-1:1,h=t[e+f];for(f+=p,i=h&(1<<-l)-1,h>>=-l,l+=a;l>0;i=256*i+t[e+f],f+=p,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+t[e+f],f+=p,l-=8);if(0===i)i=1-c;else{if(i===u)return s?0/0:1/0*(h?-1:1);s+=Math.pow(2,r),i-=c}return(h?-1:1)*s*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var s,a,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,d=r?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+f>=1?p/u:p*Math.pow(2,1-f),e*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*u-1)*Math.pow(2,o),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;t[n+h]=255&a,h+=d,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;t[n+h]=255&s,h+=d,s/=256,c-=8);t[n+h-d]|=128*g}},function(t){function e(){}var n=t.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=e,n.addListener=e,n.once=e,n.off=e,n.removeListener=e,n.removeAllListeners=e,n.emit=e,n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}}]);